# Comparing `tmp/odoo12_addon_crm_sale_order_line_contract-12.0.0.0.1-py3-none-any.whl.zip` & `tmp/odoo12_addon_crm_sale_order_line_contract-12.0.0.0.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,16 +1,16 @@
-Zip file size: 7427 bytes, number of entries: 14
--rwxrwxr-x  2.0 unx       46 b- defN 23-Feb-20 16:48 odoo/addons/crm_sale_order_line_contract/__init__.py
--rwxr-xr-x  2.0 unx      583 b- defN 23-Apr-19 16:24 odoo/addons/crm_sale_order_line_contract/__manifest__.py
--rwxr-xr-x  2.0 unx      137 b- defN 23-Apr-19 15:51 odoo/addons/crm_sale_order_line_contract/models/__init__.py
--rw-r--r--  2.0 unx     5522 b- defN 23-Apr-19 15:51 odoo/addons/crm_sale_order_line_contract/models/crm_lead.py
--rw-r--r--  2.0 unx     1724 b- defN 23-Apr-19 15:51 odoo/addons/crm_sale_order_line_contract/models/crm_sale_order_line.py
--rw-r--r--  2.0 unx     1113 b- defN 23-Apr-19 15:51 odoo/addons/crm_sale_order_line_contract/models/sale_order.py
--rw-r--r--  2.0 unx      326 b- defN 23-Apr-19 15:51 odoo/addons/crm_sale_order_line_contract/models/sale_order_line.py
--rwxrwxr-x  2.0 unx       77 b- defN 23-Mar-07 12:01 odoo/addons/crm_sale_order_line_contract/security/ir.model.access.csv
--rw-r--r--  2.0 unx     1057 b- defN 23-Apr-19 15:51 odoo/addons/crm_sale_order_line_contract/views/crm_lead.xml
--rw-r--r--  2.0 unx      670 b- defN 23-Apr-19 15:51 odoo/addons/crm_sale_order_line_contract/views/sale_order.xml
--rw-r--r--  2.0 unx      484 b- defN 23-Apr-19 16:31 odoo12_addon_crm_sale_order_line_contract-12.0.0.0.1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Apr-19 16:31 odoo12_addon_crm_sale_order_line_contract-12.0.0.0.1.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Apr-19 16:31 odoo12_addon_crm_sale_order_line_contract-12.0.0.0.1.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1626 b- defN 23-Apr-19 16:31 odoo12_addon_crm_sale_order_line_contract-12.0.0.0.1.dist-info/RECORD
-14 files, 13462 bytes uncompressed, 4549 bytes compressed:  66.2%
+Zip file size: 7474 bytes, number of entries: 14
+-rwxr-xr-x  2.0 unx       46 b- defN 23-Apr-21 07:41 odoo/addons/crm_sale_order_line_contract/__init__.py
+-rwxr-xr-x  2.0 unx      583 b- defN 23-Apr-21 13:15 odoo/addons/crm_sale_order_line_contract/__manifest__.py
+-rwxr-xr-x  2.0 unx      137 b- defN 23-Apr-21 07:41 odoo/addons/crm_sale_order_line_contract/models/__init__.py
+-rw-r--r--  2.0 unx     5746 b- defN 23-Apr-21 12:50 odoo/addons/crm_sale_order_line_contract/models/crm_lead.py
+-rw-r--r--  2.0 unx     1724 b- defN 23-Apr-21 07:41 odoo/addons/crm_sale_order_line_contract/models/crm_sale_order_line.py
+-rw-r--r--  2.0 unx     1113 b- defN 23-Apr-21 07:41 odoo/addons/crm_sale_order_line_contract/models/sale_order.py
+-rw-r--r--  2.0 unx      326 b- defN 23-Apr-21 07:41 odoo/addons/crm_sale_order_line_contract/models/sale_order_line.py
+-rwxr-xr-x  2.0 unx       77 b- defN 23-Apr-21 07:41 odoo/addons/crm_sale_order_line_contract/security/ir.model.access.csv
+-rw-r--r--  2.0 unx     1057 b- defN 23-Apr-21 07:41 odoo/addons/crm_sale_order_line_contract/views/crm_lead.xml
+-rw-r--r--  2.0 unx      670 b- defN 23-Apr-21 07:41 odoo/addons/crm_sale_order_line_contract/views/sale_order.xml
+-rw-r--r--  2.0 unx      484 b- defN 23-Apr-21 13:21 odoo12_addon_crm_sale_order_line_contract-12.0.0.0.2.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-21 13:21 odoo12_addon_crm_sale_order_line_contract-12.0.0.0.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Apr-21 13:21 odoo12_addon_crm_sale_order_line_contract-12.0.0.0.2.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1626 b- defN 23-Apr-21 13:21 odoo12_addon_crm_sale_order_line_contract-12.0.0.0.2.dist-info/RECORD
+14 files, 13686 bytes uncompressed, 4596 bytes compressed:  66.4%
```

## zipnote {}

```diff
@@ -24,20 +24,20 @@
 
 Filename: odoo/addons/crm_sale_order_line_contract/views/crm_lead.xml
 Comment: 
 
 Filename: odoo/addons/crm_sale_order_line_contract/views/sale_order.xml
 Comment: 
 
-Filename: odoo12_addon_crm_sale_order_line_contract-12.0.0.0.1.dist-info/METADATA
+Filename: odoo12_addon_crm_sale_order_line_contract-12.0.0.0.2.dist-info/METADATA
 Comment: 
 
-Filename: odoo12_addon_crm_sale_order_line_contract-12.0.0.0.1.dist-info/WHEEL
+Filename: odoo12_addon_crm_sale_order_line_contract-12.0.0.0.2.dist-info/WHEEL
 Comment: 
 
-Filename: odoo12_addon_crm_sale_order_line_contract-12.0.0.0.1.dist-info/top_level.txt
+Filename: odoo12_addon_crm_sale_order_line_contract-12.0.0.0.2.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo12_addon_crm_sale_order_line_contract-12.0.0.0.1.dist-info/RECORD
+Filename: odoo12_addon_crm_sale_order_line_contract-12.0.0.0.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/crm_sale_order_line_contract/__manifest__.py

```diff
@@ -5,15 +5,15 @@
     'summary': """
         Add relationship between crm lead and sale order line for contract products""",
 
     'author': "Coopdevs Treball SCCL",
     'website': "",
 
     'category': 'cooperator',
-    'version': '12.0.0.0.1',
+    'version': '12.0.0.0.2',
 
     # any module necessary for this one to work correctly
     'depends': [
         'crm_sale_order_line',
         'product_contract'
     ],
```

## odoo/addons/crm_sale_order_line_contract/models/crm_lead.py

```diff
@@ -26,19 +26,20 @@
                         on a non-contract product.")
                     )
             else:
                 if (
                     order_line.contract_id or
                     order_line.attach_to_existing_contract
                 ):
-                    raise exceptions.ValidationError(
-                        _("We cannot define invoice_partner \
-                        if we pretend to attach the product \
-                        to existing contract.")
-                    )
+                    if order_line.invoice_partner_id:
+                        raise exceptions.ValidationError(
+                            _("We cannot define invoice_partner \
+                            if we pretend to attach the product \
+                            to existing contract.")
+                        )
             if order_line.attach_to_existing_contract:
                 if (
                     self.partner_id.sale_contract_count > 1
                 ):
                     raise exceptions.ValidationError(
                         _("Trying to attach line to contract but multiple \
                         contracts defined for partner. \
@@ -111,14 +112,18 @@
                 crm_order_line.termination_rule_type == 'yearly'
             ):
                 creation_data['date_end'] = str(
                     date_start + relativedelta(
                         years=+crm_order_line.termination_interval
                     )
                 )
+            # invoicing timeframe
+            creation_data['recurring_rule_type'] = \
+                crm_order_line.product_id.recurring_rule_type
+
             # auto_renew behaviour
             if crm_order_line.product_id.is_auto_renew:
                 creation_data['is_auto_renew'] = True
                 creation_data[
                     'auto_renew_interval'
                 ] = crm_order_line.product_id.auto_renew_interval
                 creation_data[
```

## Comparing `odoo12_addon_crm_sale_order_line_contract-12.0.0.0.1.dist-info/RECORD` & `odoo12_addon_crm_sale_order_line_contract-12.0.0.0.2.dist-info/RECORD`

 * *Files 8% similar despite different names*

```diff
@@ -1,14 +1,14 @@
 odoo/addons/crm_sale_order_line_contract/__init__.py,sha256=Ax4qLxdb9ATk05MF7cSQ0BdpYCpGVYFy9n4U4zODf9o,46
-odoo/addons/crm_sale_order_line_contract/__manifest__.py,sha256=9NcaFNNULEnkH6urXaz5irKxMQuC0mMV4MOQCCVGg0Q,583
+odoo/addons/crm_sale_order_line_contract/__manifest__.py,sha256=YPVsxUkwQaGrZdbtbRO70mVT_63USesfEuzZ1P8bHVg,583
 odoo/addons/crm_sale_order_line_contract/models/__init__.py,sha256=vq6ZDHFJ_BNiEiV7nqFm1qPhLU739CVelA6goUN9lBs,137
-odoo/addons/crm_sale_order_line_contract/models/crm_lead.py,sha256=eOu6wWue1hcDQqjWqnG54SdiTZ_diu2sCrcllF_pPdM,5522
+odoo/addons/crm_sale_order_line_contract/models/crm_lead.py,sha256=EpL-WjNDXjVPias-1FmWYMpfxYDfLhrRiUD_lAYymyI,5746
 odoo/addons/crm_sale_order_line_contract/models/crm_sale_order_line.py,sha256=oCQK4z-nRv4VO_tJCXxFwCUiyBYjjH059EwuGoqinVc,1724
 odoo/addons/crm_sale_order_line_contract/models/sale_order.py,sha256=ygXi-ShwGyI78Ww4xIvgBAV-bkLy6is9pMcaSvijPKo,1113
 odoo/addons/crm_sale_order_line_contract/models/sale_order_line.py,sha256=olZ957kP2ZEBKRzQPB2XvY0MK6Cs_27Yhd_mkbmDTic,326
 odoo/addons/crm_sale_order_line_contract/security/ir.model.access.csv,sha256=_rSpUtidQ917ATTelTblwGdp45hdN-aICK9Ku877xzM,77
 odoo/addons/crm_sale_order_line_contract/views/crm_lead.xml,sha256=BRo1yCuLclpSJwnsE1fSyLFfDU4NtOGj4uaE4SWzC7U,1057
 odoo/addons/crm_sale_order_line_contract/views/sale_order.xml,sha256=-WrMIalSUsWM7R1H1bo48Y6hrfKq-VIYi-njxR9u_38,670
-odoo12_addon_crm_sale_order_line_contract-12.0.0.0.1.dist-info/METADATA,sha256=Hk2xXVL6rQETM7jhNChq9tbO2DttN8cDbfX6m6c7PwU,484
-odoo12_addon_crm_sale_order_line_contract-12.0.0.0.1.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-odoo12_addon_crm_sale_order_line_contract-12.0.0.0.1.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo12_addon_crm_sale_order_line_contract-12.0.0.0.1.dist-info/RECORD,,
+odoo12_addon_crm_sale_order_line_contract-12.0.0.0.2.dist-info/METADATA,sha256=l7uFoKkkiHKlJWEKJvCn7tRNKH8DB7L2-WDjdBRL7uM,484
+odoo12_addon_crm_sale_order_line_contract-12.0.0.0.2.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+odoo12_addon_crm_sale_order_line_contract-12.0.0.0.2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo12_addon_crm_sale_order_line_contract-12.0.0.0.2.dist-info/RECORD,,
```

