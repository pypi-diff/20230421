# Comparing `tmp/bacpypes3-0.0.69-py3-none-any.whl.zip` & `tmp/bacpypes3-0.0.70-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,10 +1,10 @@
-Zip file size: 273293 bytes, number of entries: 97
--rw-rw-r--  2.0 unx     1370 b- defN 23-Apr-14 14:19 bacpypes3/__init__.py
--rw-rw-r--  2.0 unx    22682 b- defN 23-Apr-03 19:06 bacpypes3/__main__.py
+Zip file size: 273666 bytes, number of entries: 97
+-rw-rw-r--  2.0 unx     1370 b- defN 23-Apr-17 19:35 bacpypes3/__init__.py
+-rw-rw-r--  2.0 unx    23678 b- defN 23-Apr-21 19:39 bacpypes3/__main__.py
 -rw-rw-r--  2.0 unx    56648 b- defN 23-Jan-24 05:27 bacpypes3/apdu.py
 -rw-rw-r--  2.0 unx    32984 b- defN 23-Apr-03 19:01 bacpypes3/app.py
 -rw-rw-r--  2.0 unx    65777 b- defN 23-Apr-04 12:53 bacpypes3/appservice.py
 -rw-rw-r--  2.0 unx    21553 b- defN 23-Mar-22 18:04 bacpypes3/argparse.py
 -rw-rw-r--  2.0 unx   106747 b- defN 23-Apr-03 19:42 bacpypes3/basetypes.py
 -rw-rw-r--  2.0 unx    16150 b- defN 23-Apr-03 15:32 bacpypes3/cmd.py
 -rw-rw-r--  2.0 unx     7934 b- defN 22-Nov-21 19:40 bacpypes3/comm.py
@@ -16,17 +16,17 @@
 -rw-rw-r--  2.0 unx    28240 b- defN 23-Jan-24 05:27 bacpypes3/npdu.py
 -rw-rw-r--  2.0 unx    93859 b- defN 23-Apr-04 12:10 bacpypes3/object.py
 -rw-rw-r--  2.0 unx    64688 b- defN 23-Feb-15 17:04 bacpypes3/pdu.py
 -rw-rw-r--  2.0 unx    80966 b- defN 23-Feb-17 06:25 bacpypes3/primitivedata.py
 -rw-rw-r--  2.0 unx     3884 b- defN 23-Jan-27 13:49 bacpypes3/settings.py
 -rw-rw-r--  2.0 unx     9099 b- defN 23-Jan-09 14:29 bacpypes3/ipv4/__init__.py
 -rw-rw-r--  2.0 unx     8795 b- defN 23-Mar-23 15:36 bacpypes3/ipv4/app.py
--rw-rw-r--  2.0 unx    25880 b- defN 23-Jan-24 05:27 bacpypes3/ipv4/bvll.py
+-rw-rw-r--  2.0 unx    25882 b- defN 23-Apr-21 19:42 bacpypes3/ipv4/bvll.py
 -rw-rw-r--  2.0 unx     4119 b- defN 23-Feb-12 01:55 bacpypes3/ipv4/link.py
--rw-rw-r--  2.0 unx    58901 b- defN 23-Feb-17 06:25 bacpypes3/ipv4/service.py
+-rw-rw-r--  2.0 unx    61699 b- defN 23-Apr-21 19:25 bacpypes3/ipv4/service.py
 -rw-rw-r--  2.0 unx     6298 b- defN 23-Jan-09 14:29 bacpypes3/ipv6/__init__.py
 -rw-rw-r--  2.0 unx    32041 b- defN 23-Jan-24 14:48 bacpypes3/ipv6/bvll.py
 -rw-rw-r--  2.0 unx    57488 b- defN 23-Feb-01 12:39 bacpypes3/ipv6/service.py
 -rw-rw-r--  2.0 unx      102 b- defN 23-Jan-24 13:54 bacpypes3/json/__init__.py
 -rw-rw-r--  2.0 unx      132 b- defN 22-Sep-06 15:15 bacpypes3/json/__main__.py
 -rw-rw-r--  2.0 unx    16743 b- defN 23-Jan-26 13:59 bacpypes3/json/util.py
 -rw-rw-r--  2.0 unx       41 b- defN 23-Jan-24 05:27 bacpypes3/lib/__init__.py
@@ -88,12 +88,12 @@
 -rw-rw-r--  2.0 unx     3588 b- defN 21-Jun-28 12:37 tests/test_primitive_data/test_unsigned.py
 -rw-rw-r--  2.0 unx      130 b- defN 23-Jan-26 13:59 tests/test_utilities/__init__.py
 -rw-rw-r--  2.0 unx    18594 b- defN 23-Jan-26 13:59 tests/test_utilities/test_state_machine.py
 -rw-rw-r--  2.0 unx      200 b- defN 23-Jan-26 13:59 tests/test_vlan/__init__.py
 -rw-rw-r--  2.0 unx     8287 b- defN 23-Jan-26 13:59 tests/test_vlan/test_ipv4_network.py
 -rw-rw-r--  2.0 unx     6304 b- defN 23-Jan-26 13:59 tests/test_vlan/test_ipv4_router.py
 -rw-rw-r--  2.0 unx     8904 b- defN 23-Jan-26 13:59 tests/test_vlan/test_network.py
--rw-rw-r--  2.0 unx      649 b- defN 23-Apr-14 14:24 bacpypes3-0.0.69.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-Apr-14 14:24 bacpypes3-0.0.69.dist-info/WHEEL
--rw-rw-r--  2.0 unx       16 b- defN 23-Apr-14 14:24 bacpypes3-0.0.69.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     8257 b- defN 23-Apr-14 14:24 bacpypes3-0.0.69.dist-info/RECORD
-97 files, 1456231 bytes uncompressed, 260351 bytes compressed:  82.1%
+-rw-rw-r--  2.0 unx      649 b- defN 23-Apr-21 19:47 bacpypes3-0.0.70.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-Apr-21 19:47 bacpypes3-0.0.70.dist-info/WHEEL
+-rw-rw-r--  2.0 unx       16 b- defN 23-Apr-21 19:47 bacpypes3-0.0.70.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     8257 b- defN 23-Apr-21 19:47 bacpypes3-0.0.70.dist-info/RECORD
+97 files, 1460027 bytes uncompressed, 260724 bytes compressed:  82.1%
```

## zipnote {}

```diff
@@ -273,20 +273,20 @@
 
 Filename: tests/test_vlan/test_ipv4_router.py
 Comment: 
 
 Filename: tests/test_vlan/test_network.py
 Comment: 
 
-Filename: bacpypes3-0.0.69.dist-info/METADATA
+Filename: bacpypes3-0.0.70.dist-info/METADATA
 Comment: 
 
-Filename: bacpypes3-0.0.69.dist-info/WHEEL
+Filename: bacpypes3-0.0.70.dist-info/WHEEL
 Comment: 
 
-Filename: bacpypes3-0.0.69.dist-info/top_level.txt
+Filename: bacpypes3-0.0.70.dist-info/top_level.txt
 Comment: 
 
-Filename: bacpypes3-0.0.69.dist-info/RECORD
+Filename: bacpypes3-0.0.70.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## bacpypes3/__init__.py

```diff
@@ -14,15 +14,15 @@
 if _sys.platform not in _supported_platforms:
     _warnings.warn("unsupported platform", RuntimeWarning)
 
 #
 #   Project Metadata
 #
 
-__version__ = "0.0.69"
+__version__ = "0.0.70"
 __author__ = "Joel Bender"
 __email__ = "joel@carrickbender.com"
 
 #
 #   Settings and Debugging
 #
```

## bacpypes3/__main__.py

```diff
@@ -25,14 +25,15 @@
 from bacpypes3.apdu import ErrorRejectAbortNack
 from bacpypes3.npdu import IAmRouterToNetwork, InitializeRoutingTableAck
 from bacpypes3.object import get_vendor_info
 from bacpypes3.app import Application
 from bacpypes3.netservice import NetworkAdapter
 
 # for BVLL services
+from bacpypes3.ipv4.bvll import Result as IPv4BVLLResult
 from bacpypes3.ipv4.service import BVLLServiceAccessPoint, BVLLServiceElement
 
 # for serializing the configuration
 from bacpypes3.json import sequence_to_json
 
 # some debugging
 _debug = 0
@@ -485,30 +486,53 @@
         usage: rbdt address
         """
         if _debug:
             CmdShell._debug("do_rbdt %r", address)
         if not bvll_ase:
             raise NotImplementedError("IPv4 only")
 
-        result_list: Optional[
-            List[IPv4Address]
-        ] = await bvll_ase.read_broadcast_distribution_table(address)
-        if result_list is None:
-            await self.response("No response")
-        else:
-            report = []
-            for bdt_entry in result_list:
-                if _debug:
-                    CmdShell._debug(
-                        "    - bdt_entry: %r",
-                        bdt_entry,
-                    )
-                report.append(f"    {bdt_entry}/{bdt_entry.netmask}")
+        try:
+            result_list: Optional[
+                List[IPv4Address]
+            ] = await bvll_ase.read_broadcast_distribution_table(address)
+            if result_list is None:
+                await self.response("No response")
+            else:
+                report = []
+                for bdt_entry in result_list:
+                    if _debug:
+                        CmdShell._debug(
+                            "    - bdt_entry: %r",
+                            bdt_entry,
+                        )
+                    report.append(f"    {bdt_entry}/{bdt_entry.netmask}")
 
-            await self.response("\n".join(report))
+                await self.response("\n".join(report))
+        except IPv4BVLLResult as err:
+            await self.response(f"bvll error: {err.bvlciResultCode}")
+
+    async def do_wbdt(
+        self,
+        address: IPv4Address,
+        *args: IPv4Address,
+    ) -> None:
+        """
+        Write Broadcast Distribution Table
+
+        usage: wbdt address [ address ... ]
+        """
+        if _debug:
+            CmdShell._debug("do_wbdt %r %r", address, args)
+        if not bvll_ase:
+            raise NotImplementedError("IPv4 only")
+
+        try:
+            await bvll_ase.write_broadcast_distribution_table(address, args)
+        except IPv4BVLLResult as err:
+            await self.response(f"bvll error: {err.bvlciResultCode}")
 
     async def do_rfdt(
         self,
         address: IPv4Address,
     ) -> None:
         """
         Read Foreign Device Table
@@ -516,30 +540,33 @@
         usage: rfdt address
         """
         if _debug:
             CmdShell._debug("do_rfdt %r", address)
         if not bvll_ase:
             raise NotImplementedError("IPv4 only")
 
-        result_list = await bvll_ase.read_foreign_device_table(address)
-        if result_list is None:
-            await self.response("No response")
-        else:
-            report = []
-            for fdt_entry in result_list:
-                if _debug:
-                    CmdShell._debug(
-                        "    - fdt_entry: %r",
-                        fdt_entry,
+        try:
+            result_list = await bvll_ase.read_foreign_device_table(address)
+            if result_list is None:
+                await self.response("No response")
+            else:
+                report = []
+                for fdt_entry in result_list:
+                    if _debug:
+                        CmdShell._debug(
+                            "    - fdt_entry: %r",
+                            fdt_entry,
+                        )
+                    report.append(
+                        f"    {fdt_entry.fdAddress} {fdt_entry.fdTTL}s, {fdt_entry.fdRemain}s remain"
                     )
-                report.append(
-                    f"    {fdt_entry.fdAddress} {fdt_entry.fdTTL}s, {fdt_entry.fdRemain}s remain"
-                )
 
-            await self.response("\n".join(report))
+                await self.response("\n".join(report))
+        except IPv4BVLLResult as err:
+            await self.response(f"bvll error: {err.bvlciResultCode}")
 
     async def do_config(
         self,
         format: str,
     ) -> None:
         """
         Display the configuration as JSON, YAML, or RDF
```

## bacpypes3/ipv4/bvll.py

```diff
@@ -203,15 +203,14 @@
 #
 #   BVLLCodec
 #
 
 
 @bacpypes_debugging
 class BVLLCodec(Client[PDU], Server[LPDU]):
-
     _debug: Callable[..., None]
 
     def __init__(self, cid=None, sid=None) -> None:
         if _debug:
             BVLLCodec._debug("__init__ cid=%r sid=%r", cid, sid)
         Client.__init__(self, cid)
         Server.__init__(self, sid)
@@ -290,15 +289,14 @@
 
 #
 #   Foreign Device Table Entry
 #
 
 
 class FDTEntry(DebugContents):
-
     _debug_contents = ("fdAddress", "fdTTL", "fdRemain")
 
     fdAddress: IPv4Address
     fdTTL: int
     fdRemain: int
 
     def __init__(self):
@@ -331,16 +329,15 @@
 
 #
 #   Result
 #
 
 
 @register_bvlpdu_type
-class Result(LPDU):
-
+class Result(LPDU, BaseException):
     _debug: Callable[..., None]
     _debug_contents: Tuple[str, ...] = ("bvlciResultCode",)
 
     pduType = LPCI.result
 
     def __init__(self, code: Optional[int] = None, *args, **kwargs):
         LPDU.__init__(self, *args, **kwargs)
@@ -388,15 +385,14 @@
         n &= n - 1
         count += 1
     return count
 
 
 @register_bvlpdu_type
 class WriteBroadcastDistributionTable(LPDU):
-
     _debug: Callable[..., None]
     _debug_contents = ("bvlciBDT",)
 
     pduType = LPCI.writeBroadcastDistributionTable
 
     def __init__(self, bdt=[], *args, **kwargs):
         LPDU.__init__(self, *args, **kwargs)
@@ -485,15 +481,14 @@
 #
 #   ReadBroadcastDistributionTableAck
 #
 
 
 @register_bvlpdu_type
 class ReadBroadcastDistributionTableAck(LPDU):
-
     _debug: Callable[..., None]
     _debug_contents = ("bvlciBDT",)
 
     pduType = LPCI.readBroadcastDistributionTableAck
 
     def __init__(self, bdt=[], *args, **kwargs):
         LPDU.__init__(self, *args, **kwargs)
@@ -551,15 +546,14 @@
 #
 #   ForwardedNPDU
 #
 
 
 @register_bvlpdu_type
 class ForwardedNPDU(LPDU):
-
     _debug: Callable[..., None]
     _debug_contents = ("bvlciAddress",)
 
     pduType = LPCI.forwardedNPDU
 
     def __init__(self, addr=None, *args, **kwargs):
         LPDU.__init__(self, *args, **kwargs)
@@ -618,15 +612,14 @@
 #
 #   RegisterForeignDevice
 #
 
 
 @register_bvlpdu_type
 class RegisterForeignDevice(LPDU):
-
     _debug: Callable[..., None]
     _debug_contents = ("bvlciTimeToLive",)
 
     pduType = LPCI.registerForeignDevice
 
     def __init__(self, ttl=None, *args, **kwargs):
         LPDU.__init__(self, *args, **kwargs)
@@ -668,15 +661,14 @@
 #
 #   ReadForeignDeviceTable
 #
 
 
 @register_bvlpdu_type
 class ReadForeignDeviceTable(LPDU):
-
     pduType = LPCI.readForeignDeviceTable
 
     def __init__(self, *args, **kwargs):
         LPDU.__init__(self, *args, **kwargs)
 
         self.bvlciFunction = LPCI.readForeignDeviceTable
         self.bvlciLength = 4
@@ -700,15 +692,14 @@
 #
 #   ReadForeignDeviceTableAck
 #
 
 
 @register_bvlpdu_type
 class ReadForeignDeviceTableAck(LPDU):
-
     _debug: Callable[..., None]
     _debug_contents = ("bvlciFDT",)
 
     pduType = LPCI.readForeignDeviceTableAck
 
     def __init__(self, fdt=[], *args, **kwargs):
         LPDU.__init__(self, *args, **kwargs)
@@ -767,15 +758,14 @@
 #
 #   DeleteForeignDeviceTableEntry
 #
 
 
 @register_bvlpdu_type
 class DeleteForeignDeviceTableEntry(LPDU):
-
     _debug: Callable[..., None]
     _debug_contents = ("bvlciAddress",)
 
     pduType = LPCI.deleteForeignDeviceTableEntry
 
     def __init__(self, addr=None, *args, **kwargs):
         LPDU.__init__(self, *args, **kwargs)
@@ -817,15 +807,14 @@
 #
 #   DistributeBroadcastToNetwork
 #
 
 
 @register_bvlpdu_type
 class DistributeBroadcastToNetwork(LPDU):
-
     _debug: Callable[..., None]
 
     pduType = LPCI.distributeBroadcastToNetwork
 
     def __init__(self, *args, **kwargs):
         LPDU.__init__(self, *args, **kwargs)
 
@@ -876,15 +865,14 @@
 #
 #   OriginalUnicastNPDU
 #
 
 
 @register_bvlpdu_type
 class OriginalUnicastNPDU(LPDU):
-
     _debug: Callable[..., None]
 
     pduType = LPCI.originalUnicastNPDU
 
     def __init__(self, *args, **kwargs):
         LPDU.__init__(self, *args, **kwargs)
 
@@ -935,15 +923,14 @@
 #
 #   OriginalBroadcastNPDU
 #
 
 
 @register_bvlpdu_type
 class OriginalBroadcastNPDU(LPDU):
-
     _debug: Callable[..., None]
 
     pduType = LPCI.originalBroadcastNPDU
 
     def __init__(self, *args, **kwargs):
         LPDU.__init__(self, *args, **kwargs)
```

## bacpypes3/ipv4/service.py

```diff
@@ -33,14 +33,15 @@
 _debug = 0
 _log = ModuleLogger(globals())
 
 # globals
 REGISTRATION_TIMEOUT = 2.0
 READ_BDT_TIMEOUT = 3.0
 READ_FDT_TIMEOUT = 3.0
+WRITE_BDT_TIMEOUT = 3.0
 
 
 #
 #   _Multiplex Client and Server
 #
 
 
@@ -260,15 +261,14 @@
 #
 #   BIPNormal
 #
 
 
 @bacpypes_debugging
 class BIPNormal(BVLLServiceAccessPoint):
-
     _debug: Callable[..., None]
     _warning: Callable[..., None]
 
     async def indication(self, pdu: PDU) -> None:
         if _debug:
             BIPNormal._debug("indication %r", pdu)
         assert isinstance(pdu.pduDestination, Address)
@@ -415,15 +415,14 @@
 #
 #   BIPForeign
 #
 
 
 @bacpypes_debugging
 class BIPForeign(BVLLServiceAccessPoint, DebugContents):
-
     _debug: Callable[..., None]
     _warning: Callable[..., None]
     _debug_contents = ("bbmdAddress", "bbmdTimeToLive", "bbmdRegistrationStatus")
 
     bbmdAddress: Optional[IPv4Address]
     bbmdTimeToLive: Optional[int]
     bbmdRegistrationStatus: int
@@ -842,15 +841,14 @@
 #
 #   BIPBBMD
 #
 
 
 @bacpypes_debugging
 class BIPBBMD(BVLLServiceAccessPoint, DebugContents):
-
     _debug: Callable[..., None]
     _warning: Callable[..., None]
     _debug_contents = ("bbmdAddress", "bbmdBDT+", "bbmdFDT+")
 
     bbmdAddress: IPv4Address
     bbmdBDT: List[IPv4Address]
     bbmdFDT: List[FDTEntry]
@@ -1241,15 +1239,14 @@
 #
 #   BIPNAT
 #
 
 
 @bacpypes_debugging
 class BIPNAT(BVLLServiceAccessPoint, DebugContents):
-
     _debug: Callable[..., None]
     _warning: Callable[..., None]
     _debug_contents = ("bbmdAddress", "bbmdBDT+", "bbmdFDT+")
 
     bbmdAddress: IPv4Address
     bbmdBDT: List[IPv4Address]
     bbmdFDT: List[FDTEntry]
@@ -1618,27 +1615,27 @@
 #
 #   BVLLServiceElement
 #
 
 
 @bacpypes_debugging
 class BVLLServiceElement(ApplicationServiceElement):
-
     _debug: Callable[..., None]
     _warning: Callable[..., None]
 
     def __init__(self, *, aseID=None) -> None:
         if _debug:
             BVLLServiceElement._debug("__init__ aseID=%r", aseID)
         ApplicationServiceElement.__init__(self, aseID=aseID)
 
         self.read_bdt_future = None
         self.read_bdt_timeout_handle = None
         self.read_fdt_future = None
         self.read_fdt_timeout_handle = None
+        self.write_bdt_future = None
 
     async def indication(self, lpdu: LPDU) -> None:
         if _debug:
             BVLLServiceElement._debug("indication %r", lpdu)
 
         # redirect
         fn = lpdu.__class__.__name__
@@ -1654,14 +1651,45 @@
         # redirect
         fn = lpdu.__class__.__name__
         if hasattr(self, fn):
             await getattr(self, fn)(lpdu)
         else:
             BVLLServiceElement._warning("no handler for %s", fn)
 
+    async def Result(self, pdu: Result) -> None:
+        if _debug:
+            BVLLServiceElement._debug("Result %r", pdu)
+
+        if self.read_bdt_future:
+            if _debug:
+                BVLLServiceElement._debug("  - read BDT Error")
+
+            self.read_bdt_future.set_exception(pdu)
+            self.read_bdt_future = None
+            self.read_bdt_timeout_handle.cancel()
+            self.read_bdt_timeout_handle = None
+
+        elif self.read_fdt_future:
+            if _debug:
+                BVLLServiceElement._debug("  - read FDT Error")
+
+            self.read_fdt_future.set_exception(pdu)
+            self.read_fdt_future = None
+            self.read_fdt_timeout_handle.cancel()
+            self.read_fdt_timeout_handle = None
+
+        elif self.write_bdt_future:
+            if _debug:
+                BVLLServiceElement._debug("  - write BDT Error")
+
+            self.write_bdt_future.set_exception(pdu)
+            self.write_bdt_future = None
+            self.write_bdt_timeout_handle.cancel()
+            self.write_bdt_timeout_handle = None
+
     def read_broadcast_distribution_table(
         self, address: IPv4Address, timeout: float = READ_BDT_TIMEOUT
     ) -> asyncio.Future:
         """
         Read the broadcast distribution table from a BBMD, returns a list of
         IPv4Address's (check the mask!) or None if there is no response.
         """
@@ -1698,14 +1726,77 @@
 
     def _read_bdt_timeout(self):
         if _debug:
             BVLLServiceElement._debug("_read_bdt_timeout")
         self.read_bdt_future.set_result(None)
         self.read_bdt_future = None
 
+    async def ReadBroadcastDistributionTableAck(
+        self, pdu: ReadBroadcastDistributionTableAck
+    ) -> None:
+        if _debug:
+            BVLLServiceElement._debug("confirmation %r", pdu)
+
+        # set the result and clear the timer
+        self.read_bdt_future.set_result(pdu.bvlciBDT)
+        self.read_bdt_future = None
+        self.read_bdt_timeout_handle.cancel()
+        self.read_bdt_timeout_handle = None
+
+    def write_broadcast_distribution_table(
+        self,
+        address: IPv4Address,
+        bdt: List[IPv4Address],
+        timeout: float = WRITE_BDT_TIMEOUT,
+    ) -> asyncio.Future:
+        """
+        Read the broadcast distribution table from a BBMD, returns a list of
+        IPv4Address's (check the mask!) or None if there is no response.
+        """
+        if _debug:
+            BVLLServiceElement._debug(
+                "write_broadcast_distribution_table %r %r", address, timeout
+            )
+
+        # one at a time please
+        if self.write_bdt_future:
+            raise RuntimeError("request pending")
+
+        self.write_bdt_future = asyncio.Future()
+        if _debug:
+            BVLLServiceElement._debug(
+                "    - write_bdt_future: %r", self.write_bdt_future
+            )
+
+        # get the loop to schedule a time to stop looking
+        loop = asyncio.get_event_loop()
+        if _debug:
+            BVLLServiceElement._debug("    - loop time: %r", loop.time())
+
+        # schedule a timeout
+        self.write_bdt_timeout_handle = loop.call_later(
+            timeout, self._write_bdt_timeout
+        )
+        if _debug:
+            BVLLServiceElement._debug(
+                "    - write_bdt_timeout_handle: %r", self.write_bdt_timeout_handle
+            )
+
+        asyncio.ensure_future(
+            self.request(WriteBroadcastDistributionTable(bdt, destination=address))
+        )
+
+        return self.write_bdt_future
+
+    def _write_bdt_timeout(self):
+        if _debug:
+            BVLLServiceElement._debug("_write_bdt_timeout")
+        self.write_bdt_future.set_result(None)
+        self.write_bdt_future = None
+
     def read_foreign_device_table(
         self, address: IPv4Address, timeout: float = READ_FDT_TIMEOUT
     ) -> asyncio.Future:
         """
         Read the foreign device table from a BBMD, returns a list of FDTEntry's
         or None if there is no response.
         """
@@ -1742,26 +1833,14 @@
 
     def _read_fdt_timeout(self):
         if _debug:
             BVLLServiceElement._debug("_read_fdt_timeout")
         self.read_fdt_future.set_result(None)
         self.read_fdt_future = None
 
-    async def ReadBroadcastDistributionTableAck(
-        self, pdu: ReadBroadcastDistributionTableAck
-    ) -> None:
-        if _debug:
-            BVLLServiceElement._debug("confirmation %r", pdu)
-
-        # set the result and clear the timer
-        self.read_bdt_future.set_result(pdu.bvlciBDT)
-        self.read_bdt_future = None
-        self.read_bdt_timeout_handle.cancel()
-        self.read_bdt_timeout_handle = None
-
     async def ReadForeignDeviceTableAck(self, pdu: ReadForeignDeviceTableAck) -> None:
         if _debug:
             BVLLServiceElement._debug("confirmation %r", pdu)
 
         # set the result and clear the timer
         self.read_fdt_future.set_result(pdu.bvlciFDT)
         self.read_fdt_future = None
```

## Comparing `bacpypes3-0.0.69.dist-info/METADATA` & `bacpypes3-0.0.70.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: bacpypes3
-Version: 0.0.69
+Version: 0.0.70
 Summary: BACnet Communications Library
 Home-page: https://github.com/JoelBender/bacpypes3
 Author: Joel Bender
 Author-email: joel@carrickbender.com
 License: MIT
 Platform: UNKNOWN
 Classifier: Development Status :: 2 - Pre-Alpha
```

## Comparing `bacpypes3-0.0.69.dist-info/RECORD` & `bacpypes3-0.0.70.dist-info/RECORD`

 * *Files 6% similar despite different names*

```diff
@@ -1,9 +1,9 @@
-bacpypes3/__init__.py,sha256=csA54UC44778jTo64fgEww_32SMnEd6hXPYfH7eI5pY,1370
-bacpypes3/__main__.py,sha256=cSGqfoxjQT2Jv3fd435oC7knne7oLM4JKBoQIg3fH6g,22682
+bacpypes3/__init__.py,sha256=25z7psCx1tZkvsxYDU316zLhrDHQiJSteI88XZeRfSw,1370
+bacpypes3/__main__.py,sha256=gLY_6Pyaksfq9HtdV3ldqaevOGAQaggzeTkxpYet2UI,23678
 bacpypes3/apdu.py,sha256=4v7ue43Qux1agAebfCglhkdb_DZAVSQ-4J-29c-UfEk,56648
 bacpypes3/app.py,sha256=brRei_JuuV1M1T7L3QZO1sk-_nDb_FFPPZk90Gy5G98,32984
 bacpypes3/appservice.py,sha256=Mroubx8ZBpAAg8wwfxfvcMIkNQ5aXQ0RtRBARXwGViI,65777
 bacpypes3/argparse.py,sha256=Hi0CHD8ILFBesZ3gJ3XRJ_B5lW70alBs5XbOByacRaE,21553
 bacpypes3/basetypes.py,sha256=o0DQTAyod8NBGAMoDXGnEnMXZ_sZCCl-taro5B_MqUU,106747
 bacpypes3/cmd.py,sha256=R57uI1p5bj1Ixr57HJfVpL1VqwfCYlzx41xIWApm3qE,16150
 bacpypes3/comm.py,sha256=trZC92o41mfEMlUGT69PpBPowfyzBiObvEHY6J4cU8E,7934
@@ -15,17 +15,17 @@
 bacpypes3/npdu.py,sha256=HjK5WNjZbQlaRL20qpQ8Q8AW3sDOtJ1ycU67ePV6rQE,28240
 bacpypes3/object.py,sha256=ig9zfn8kxMjdk46X2IQP1hl74yRV5YL3lQRou5GghoI,93859
 bacpypes3/pdu.py,sha256=Td7XV60rlwso_rhn4rKpsBE5KAB-NlQn5CCfUrzc3bY,64688
 bacpypes3/primitivedata.py,sha256=y7g3dbTJp9Szk04oSyQ6XujhTroYFm1jPpECULDvKaw,80966
 bacpypes3/settings.py,sha256=lBMeaIsqqjd7Gu0S5gEtC3m5snUIgATABPCKsywFfTQ,3884
 bacpypes3/ipv4/__init__.py,sha256=uQU3qI8z5eve1r6jrm58O2em7yRYPFnvQXLQXg70Pvo,9099
 bacpypes3/ipv4/app.py,sha256=cn__EqCZG0I4a2iNJOziVDhq_P7aXFm_Pv2t2DOZ0nI,8795
-bacpypes3/ipv4/bvll.py,sha256=RlHOZz_s6dGSC-4qOPd8V3ogTV52uiJ2fXzjI-4O0zQ,25880
+bacpypes3/ipv4/bvll.py,sha256=FWBuQVXWkBfJQtrh0etcDnV0kmxUfSeiXRkU9NIXfBI,25882
 bacpypes3/ipv4/link.py,sha256=9ync_7r_Eg2bOfDvmfpHmzMzqK1ZYQMlVCzHWXYsZvQ,4119
-bacpypes3/ipv4/service.py,sha256=5J6UEZ9-WJv8rMpeEY1mritMm3INEiUNyTGdMshP0Hw,58901
+bacpypes3/ipv4/service.py,sha256=sK7b2Bqjsd0Avk1twMI5FKGG2OsJ1YcpWgAcEO-k3a0,61699
 bacpypes3/ipv6/__init__.py,sha256=vNtyj9CZUjFb9S-9ZLRspWpN_bgv5wpeqot9-9SHwT4,6298
 bacpypes3/ipv6/bvll.py,sha256=yfACW7AmqBiKJ20pYfwKzVPHjiZfc6zFRAs3nPbKVvQ,32041
 bacpypes3/ipv6/service.py,sha256=KP2FbkEHgdtKUZlGtwc0qsh2x4OsZ3rdHPQzlZcwKgA,57488
 bacpypes3/json/__init__.py,sha256=avfBPdhgzKavIlfbzwzZHaCo4QhI85wH4F6z2_ko2DI,102
 bacpypes3/json/__main__.py,sha256=HzwoaqkqgHbwsKalGaKTihTCC42Y_HqSqDEtp6DUHJw,132
 bacpypes3/json/util.py,sha256=etmT_kaPewmOqj49HcjfIx5pMgPJwdbIQXT0gnN3hys,16743
 bacpypes3/lib/__init__.py,sha256=RUNS1E5z9hM7pEMjRHBDupnSq9nfcMmkjbR1UEJyi-U,41
@@ -87,11 +87,11 @@
 tests/test_primitive_data/test_unsigned.py,sha256=SVhoVpBRgP48Apklv_QCYNzYv315Mniat6lOB1qGF7A,3588
 tests/test_utilities/__init__.py,sha256=81GA1pRdx-3CmJWAjPz1UNjR1keklu_tMI1H1OvXdUM,130
 tests/test_utilities/test_state_machine.py,sha256=ex0ZxsNo-r_LvNmEJHGoc6kntaYfrOIPgOVEo7X4A5k,18594
 tests/test_vlan/__init__.py,sha256=gELFXeqGnaJYTSf5Y95zyULdCATaDu5QDypYTAmOhZs,200
 tests/test_vlan/test_ipv4_network.py,sha256=boUotVyuiP30f4JosObeZfFA_82_wFRp3wBH9VNXMAg,8287
 tests/test_vlan/test_ipv4_router.py,sha256=7W9kNJ5qT63jV6FcHwNQfv3fu_LaZwTEbjlKXQSLHkM,6304
 tests/test_vlan/test_network.py,sha256=3qVingOmGHdZWVwNJz5GfANmhRJ-DY9Xa1N87Y-boSY,8904
-bacpypes3-0.0.69.dist-info/METADATA,sha256=7hRjPczlvVtTYBkW4Umao8yLsMVRaB_XfWTt-H9pg3I,649
-bacpypes3-0.0.69.dist-info/WHEEL,sha256=g4nMs7d-Xl9-xC9XovUrsDHGXt-FT0E17Yqo92DEfvY,92
-bacpypes3-0.0.69.dist-info/top_level.txt,sha256=7Dm99jRUNc7RMdEbDzHTP950Pc1F6gBv_SHMeRT5nBA,16
-bacpypes3-0.0.69.dist-info/RECORD,,
+bacpypes3-0.0.70.dist-info/METADATA,sha256=73EDTaOwhv_DOcLcxhWctSoDbtAZIT5Lg3cyTx-RufQ,649
+bacpypes3-0.0.70.dist-info/WHEEL,sha256=g4nMs7d-Xl9-xC9XovUrsDHGXt-FT0E17Yqo92DEfvY,92
+bacpypes3-0.0.70.dist-info/top_level.txt,sha256=7Dm99jRUNc7RMdEbDzHTP950Pc1F6gBv_SHMeRT5nBA,16
+bacpypes3-0.0.70.dist-info/RECORD,,
```

