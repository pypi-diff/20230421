# Comparing `tmp/fastapi_mvc_framework-1.2.0.tar.gz` & `tmp/fastapi_mvc_framework-1.2.3.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "fastapi_mvc_framework-1.2.0.tar", last modified: Wed Apr 19 06:44:37 2023, max compression
+gzip compressed data, was "fastapi_mvc_framework-1.2.3.tar", last modified: Fri Apr 21 08:11:39 2023, max compression
```

## Comparing `fastapi_mvc_framework-1.2.0.tar` & `fastapi_mvc_framework-1.2.3.tar`

### file list

```diff
@@ -1,26 +1,26 @@
-drwxrwxrwx   0        0        0        0 2023-04-19 06:44:37.276817 fastapi_mvc_framework-1.2.0/
--rw-rw-rw-   0        0        0     5716 2023-04-19 06:44:37.275826 fastapi_mvc_framework-1.2.0/PKG-INFO
--rw-rw-rw-   0        0        0     4959 2023-04-10 07:40:40.000000 fastapi_mvc_framework-1.2.0/README.md
-drwxrwxrwx   0        0        0        0 2023-04-19 06:44:37.266843 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/
--rw-rw-rw-   0        0        0      267 2023-04-10 12:07:43.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/__init__.py
--rw-rw-rw-   0        0        0     1751 2023-04-13 05:28:34.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/_utils.py
--rw-rw-rw-   0        0        0    10362 2023-04-18 05:30:28.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/auth.py
--rw-rw-rw-   0        0        0    10336 2023-04-19 06:43:16.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/base_controller.py
--rw-rw-rw-   0        0        0     4381 2023-02-25 09:43:32.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/cbv.py
--rw-rw-rw-   0        0        0     4355 2023-04-18 14:40:31.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/config.py
--rw-rw-rw-   0        0        0     4182 2023-04-18 06:15:50.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/controller.py
--rw-rw-rw-   0        0        0    13008 2023-04-18 15:41:45.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/controller_utils.py
--rw-rw-rw-   0        0        0    11961 2023-04-18 06:07:32.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/core.py
--rw-rw-rw-   0        0        0     6278 2023-04-19 05:26:36.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/database.py
--rw-rw-rw-   0        0        0     5880 2023-04-19 06:20:16.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/midware.py
--rw-rw-rw-   0        0        0     2141 2023-04-03 14:30:15.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/midware_casbin.py
--rw-rw-rw-   0        0        0     9344 2023-04-10 14:09:32.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/midware_session.py
--rw-rw-rw-   0        0        0     1597 2023-04-06 04:58:51.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/view.py
-drwxrwxrwx   0        0        0        0 2023-04-19 06:44:37.274822 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework.egg-info/
--rw-rw-rw-   0        0        0     5716 2023-04-19 06:44:37.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework.egg-info/PKG-INFO
--rw-rw-rw-   0        0        0      726 2023-04-19 06:44:37.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework.egg-info/SOURCES.txt
--rw-rw-rw-   0        0        0        1 2023-04-19 06:44:37.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework.egg-info/dependency_links.txt
--rw-rw-rw-   0        0        0      288 2023-04-19 06:44:37.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework.egg-info/requires.txt
--rw-rw-rw-   0        0        0       22 2023-04-19 06:44:37.000000 fastapi_mvc_framework-1.2.0/fastapi_mvc_framework.egg-info/top_level.txt
--rw-rw-rw-   0        0        0       42 2023-04-19 06:44:37.276817 fastapi_mvc_framework-1.2.0/setup.cfg
--rw-rw-rw-   0        0        0     1184 2023-04-19 06:43:36.000000 fastapi_mvc_framework-1.2.0/setup.py
+drwxrwxrwx   0        0        0        0 2023-04-21 08:11:39.296298 fastapi_mvc_framework-1.2.3/
+-rw-rw-rw-   0        0        0     6592 2023-04-21 08:11:39.294304 fastapi_mvc_framework-1.2.3/PKG-INFO
+-rw-rw-rw-   0        0        0     5785 2023-04-21 08:11:39.000000 fastapi_mvc_framework-1.2.3/README.md
+drwxrwxrwx   0        0        0        0 2023-04-21 08:11:39.284330 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/
+-rw-rw-rw-   0        0        0      267 2023-04-10 12:07:43.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/__init__.py
+-rw-rw-rw-   0        0        0     1751 2023-04-13 05:28:34.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/_utils.py
+-rw-rw-rw-   0        0        0    10362 2023-04-18 05:30:28.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/auth.py
+-rw-rw-rw-   0        0        0    10336 2023-04-19 06:43:16.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/base_controller.py
+-rw-rw-rw-   0        0        0     4381 2023-02-25 09:43:32.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/cbv.py
+-rw-rw-rw-   0        0        0     4355 2023-04-18 14:40:31.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/config.py
+-rw-rw-rw-   0        0        0     4182 2023-04-18 06:15:50.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/controller.py
+-rw-rw-rw-   0        0        0    13008 2023-04-18 15:41:45.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/controller_utils.py
+-rw-rw-rw-   0        0        0    12417 2023-04-21 06:50:57.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/core.py
+-rw-rw-rw-   0        0        0     6280 2023-04-19 08:32:59.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/database.py
+-rw-rw-rw-   0        0        0     7615 2023-04-21 07:20:04.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/midware.py
+-rw-rw-rw-   0        0        0     2141 2023-04-03 14:30:15.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/midware_casbin.py
+-rw-rw-rw-   0        0        0     9344 2023-04-10 14:09:32.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/midware_session.py
+-rw-rw-rw-   0        0        0     1597 2023-04-06 04:58:51.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/view.py
+drwxrwxrwx   0        0        0        0 2023-04-21 08:11:39.293305 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework.egg-info/
+-rw-rw-rw-   0        0        0     6592 2023-04-21 08:11:39.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework.egg-info/PKG-INFO
+-rw-rw-rw-   0        0        0      726 2023-04-21 08:11:39.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework.egg-info/SOURCES.txt
+-rw-rw-rw-   0        0        0        1 2023-04-21 08:11:39.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework.egg-info/dependency_links.txt
+-rw-rw-rw-   0        0        0      753 2023-04-21 08:11:39.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework.egg-info/requires.txt
+-rw-rw-rw-   0        0        0       22 2023-04-21 08:11:39.000000 fastapi_mvc_framework-1.2.3/fastapi_mvc_framework.egg-info/top_level.txt
+-rw-rw-rw-   0        0        0       42 2023-04-21 08:11:39.296298 fastapi_mvc_framework-1.2.3/setup.cfg
+-rw-rw-rw-   0        0        0     2612 2023-04-21 08:10:58.000000 fastapi_mvc_framework-1.2.3/setup.py
```

### Comparing `fastapi_mvc_framework-1.2.0/PKG-INFO` & `fastapi_mvc_framework-1.2.3/fastapi_mvc_framework.egg-info/PKG-INFO`

 * *Files 22% similar despite different names*

```diff
@@ -1,12 +1,12 @@
 00000000: 4d65 7461 6461 7461 2d56 6572 7369 6f6e  Metadata-Version
 00000010: 3a20 322e 310d 0a4e 616d 653a 2066 6173  : 2.1..Name: fas
-00000020: 7461 7069 5f6d 7663 5f66 7261 6d65 776f  tapi_mvc_framewo
+00000020: 7461 7069 2d6d 7663 2d66 7261 6d65 776f  tapi-mvc-framewo
 00000030: 726b 0d0a 5665 7273 696f 6e3a 2031 2e32  rk..Version: 1.2
-00000040: 2e30 0d0a 5375 6d6d 6172 793a 2053 696d  .0..Summary: Sim
+00000040: 2e33 0d0a 5375 6d6d 6172 793a 2053 696d  .3..Summary: Sim
 00000050: 706c 6520 616e 6420 656c 6567 616e 7420  ple and elegant 
 00000060: 7573 6520 6f66 2046 6173 7441 7069 2069  use of FastApi i
 00000070: 6e20 4d56 4320 6d6f 6465 0d0a 486f 6d65  n MVC mode..Home
 00000080: 2d70 6167 653a 2068 7474 7073 3a2f 2f67  -page: https://g
 00000090: 6974 6875 622e 636f 6d2f 736d 6a6b 7a73  ithub.com/smjkzs
 000000a0: 6c2f 6661 7374 6170 695f 6672 616d 6577  l/fastapi_framew
 000000b0: 6f72 6b0d 0a41 7574 686f 723a 2042 7275  ork..Author: Bru
@@ -37,322 +37,376 @@
 00000240: 203a 3a20 332e 380d 0a43 6c61 7373 6966   :: 3.8..Classif
 00000250: 6965 723a 2050 726f 6772 616d 6d69 6e67  ier: Programming
 00000260: 204c 616e 6775 6167 6520 3a3a 2050 7974   Language :: Pyt
 00000270: 686f 6e20 3a3a 2033 2e39 0d0a 436c 6173  hon :: 3.9..Clas
 00000280: 7369 6669 6572 3a20 5072 6f67 7261 6d6d  sifier: Programm
 00000290: 696e 6720 4c61 6e67 7561 6765 203a 3a20  ing Language :: 
 000002a0: 5079 7468 6f6e 203a 3a20 332e 3130 0d0a  Python :: 3.10..
-000002b0: 5265 7175 6972 6573 2d50 7974 686f 6e3a  Requires-Python:
-000002c0: 203e 3d33 2e36 0d0a 4465 7363 7269 7074   >=3.6..Descript
-000002d0: 696f 6e2d 436f 6e74 656e 742d 5479 7065  ion-Content-Type
-000002e0: 3a20 7465 7874 2f6d 6172 6b64 6f77 6e0d  : text/markdown.
-000002f0: 0a0d 0a23 2066 6173 7461 7069 5f66 7261  ...# fastapi_fra
-00000300: 6d65 776f 726b 0d0a 4120 6d76 6320 6672  mework..A mvc fr
-00000310: 616d 6577 6f72 6b20 7573 6564 2046 6173  amework used Fas
-00000320: 7441 7069 0d0a 5369 6d70 6c65 2061 6e64  tApi..Simple and
-00000330: 2065 6c65 6761 6e74 2075 7365 206f 6620   elegant use of 
-00000340: 4661 7374 4170 6920 696e 204d 5643 206d  FastApi in MVC m
-00000350: 6f64 650d 0a0d 0a23 2320 7573 6167 653a  ode....## usage:
-00000360: 0d0a 696e 7374 616c 6c3a 0d0a 6060 6062  ..install:..```b
-00000370: 6173 680d 0a70 6970 2069 6e73 7461 6c6c  ash..pip install
-00000380: 2066 6173 7461 7069 2d6d 7663 2d66 7261   fastapi-mvc-fra
-00000390: 6d65 776f 726b 0d0a 6060 600d 0a0d 0a63  mework..```....c
-000003a0: 6f6e 7472 6f6c 6c65 723a 0d0a 6060 6070  ontroller:..```p
-000003b0: 7974 686f 6e0d 0a66 726f 6d20 6661 7374  ython..from fast
-000003c0: 6170 695f 6d76 635f 6672 616d 6577 6f72  api_mvc_framewor
-000003d0: 6b20 696d 706f 7274 2061 7069 5f72 6f75  k import api_rou
-000003e0: 7465 722c 6170 692c 5265 7175 6573 742c  ter,api,Request,
-000003f0: 5265 7370 6f6e 7365 2c42 6173 6543 6f6e  Response,BaseCon
-00000400: 7472 6f6c 6c65 722c 6170 706c 6963 6174  troller,applicat
-00000410: 696f 6e2c 5765 6253 6f63 6b65 742c 5765  ion,WebSocket,We
-00000420: 6253 6f63 6b65 7444 6973 636f 6e6e 6563  bSocketDisconnec
-00000430: 740d 0a66 726f 6d20 7479 7069 6e67 2069  t..from typing i
-00000440: 6d70 6f72 7420 4469 6374 200d 0a66 726f  mport Dict ..fro
-00000450: 6d20 6170 702e 7365 7276 6963 6573 2069  m app.services i
-00000460: 6d70 6f72 7420 5573 6572 5365 7276 6963  mport UserServic
-00000470: 650d 0a0d 0a61 7070 6c69 6361 7469 6f6e  e....application
-00000480: 2e5f 7075 626c 6963 5f61 7574 685f 7572  ._public_auth_ur
-00000490: 6c20 3d20 272f 7573 6572 2f6c 6f67 696e  l = '/user/login
-000004a0: 270d 0a61 7070 6c69 6361 7469 6f6e 2e5f  '..application._
-000004b0: 7573 6572 5f61 7574 685f 7572 6c20 3d20  user_auth_url = 
-000004c0: 272f 7573 6572 2f6c 6f67 696e 270d 0a0d  '/user/login'...
-000004d0: 0a40 6170 695f 726f 7574 6572 2861 7574  .@api_router(aut
-000004e0: 683d 2770 7562 6c69 6327 290d 0a63 6c61  h='public')..cla
-000004f0: 7373 2054 6573 7443 6f6e 7472 6f6c 6c65  ss TestControlle
-00000500: 7228 4261 7365 436f 6e74 726f 6c6c 6572  r(BaseController
-00000510: 293a 200d 0a20 2020 2040 6170 692e 6765  ): ..    @api.ge
-00000520: 7428 222f 7573 6572 2f6c 6f67 696e 2229  t("/user/login")
-00000530: 0d0a 2020 2020 6465 6620 6c6f 6769 6e28  ..    def login(
-00000540: 7365 6c66 293a 0d0a 2020 2020 2020 2020  self):..        
-00000550: 2222 223a 7469 746c 6520 4c6f 6769 6e22  """:title Login"
-00000560: 2222 2020 0d0a 2020 2020 2020 2020 7265  ""  ..        re
-00000570: 6469 7265 6374 203d 2073 656c 662e 7061  direct = self.pa
-00000580: 7261 6d73 5b27 7265 6469 7265 6374 275d  rams['redirect']
-00000590: 2069 6620 2772 6564 6972 6563 7427 2069   if 'redirect' i
-000005a0: 6e20 7365 6c66 2e70 6172 616d 7320 656c  n self.params el
-000005b0: 7365 2027 2f27 200d 0a20 2020 2020 2020  se '/' ..       
-000005c0: 2072 6574 7572 6e20 7365 6c66 2e76 6965   return self.vie
-000005d0: 7728 2920 0d0a 2020 2020 0d0a 2020 2020  w() ..    ..    
-000005e0: 4061 7069 2e67 6574 2822 2f75 7365 722f  @api.get("/user/
-000005f0: 6c6f 676f 7574 2229 0d0a 2020 2020 6465  logout")..    de
-00000600: 6620 6c6f 676f 7574 2873 656c 6629 3a0d  f logout(self):.
-00000610: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00000620: 7365 6c66 2e5f 7573 6572 5f6c 6f67 6f75  self._user_logou
-00000630: 7428 290d 0a20 2020 200d 0a20 2020 2040  t()..    ..    @
-00000640: 6170 692e 706f 7374 2822 2f74 6573 742f  api.post("/test/
-00000650: 7665 7269 7479 5f75 7365 7222 290d 0a20  verity_user").. 
-00000660: 2020 2061 7379 6e63 2064 6566 2076 6572     async def ver
-00000670: 6974 795f 7573 6572 2873 656c 6629 3a20  ity_user(self): 
-00000680: 0d0a 2020 2020 2020 2020 666f 726d 203d  ..        form =
-00000690: 2073 656c 662e 7061 7261 6d73 0d0a 2020   self.params..  
-000006a0: 2020 2020 2020 7573 6572 6e61 6d65 203d        username =
-000006b0: 2066 6f72 6d5b 2775 7365 726e 616d 6527   form['username'
-000006c0: 5d0d 0a20 2020 2020 2020 2070 6173 7377  ]..        passw
-000006d0: 6f72 6420 3d20 666f 726d 5b27 7061 7373  ord = form['pass
-000006e0: 776f 7264 275d 0d0a 2020 2020 2020 2020  word']..        
-000006f0: 7265 6469 7265 6374 203d 2066 6f72 6d5b  redirect = form[
-00000700: 2772 6564 6972 6563 7427 5d0d 0a20 2020  'redirect']..   
-00000710: 2020 2020 2069 6620 7573 6572 6e61 6d65       if username
-00000720: 2061 6e64 2070 6173 7377 6f72 643a 0d0a   and password:..
-00000730: 2020 2020 2020 2020 2020 2020 2364 6f20              #do 
-00000740: 7665 7269 7469 6564 0d0a 2020 2020 2020  veritied..      
-00000750: 2020 2020 2020 6966 2075 7365 726e 616d        if usernam
-00000760: 6520 696e 205b 2762 7275 6365 272c 2761  e in ['bruce','a
-00000770: 6c69 6365 275d 2061 6e64 2070 6173 7377  lice'] and passw
-00000780: 6f72 643a 0d0a 2020 2020 2020 2020 2020  ord:..          
-00000790: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-000007a0: 662e 5f76 6572 6974 795f 7375 6363 6573  f._verity_succes
-000007b0: 7365 6428 7573 6572 6e61 6d65 2c72 6564  sed(username,red
-000007c0: 6972 6563 7429 0d0a 2020 2020 2020 2020  irect)..        
-000007d0: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
-000007e0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-000007f0: 6e20 7365 6c66 2e5f 7665 7269 7479 5f65  n self._verity_e
-00000800: 7272 6f72 2829 200d 0a20 2020 2020 2020  rror() ..       
-00000810: 2072 6574 7572 6e20 7365 6c66 2e5f 7665   return self._ve
-00000820: 7269 7479 5f65 7272 6f72 2829 0d0a 2020  rity_error()..  
-00000830: 2020 0d0a 2020 2020 4061 7069 2e67 6574    ..    @api.get
-00000840: 2822 2f22 2029 0d0a 2020 2020 6465 6620  ("/" )..    def 
-00000850: 686f 6d65 2873 656c 662c 7265 7175 6573  home(self,reques
-00000860: 743a 5265 7175 6573 7429 3a20 0d0a 2020  t:Request): ..  
-00000870: 2020 2020 2020 2727 270d 0a20 2020 2020        '''..     
-00000880: 2020 203a 7469 746c 6520 486f 6d65 0d0a     :title Home..
-00000890: 2020 2020 2020 2020 2727 270d 0a20 2020          '''..   
-000008a0: 2020 2020 2063 203d 2073 656c 662e 7365       c = self.se
-000008b0: 7373 696f 6e2e 6765 7428 2768 6f6d 6527  ssion.get('home'
-000008c0: 2c31 290d 0a20 2020 2020 2020 2063 203d  ,1)..        c =
-000008d0: 2063 2b31 2020 0d0a 2020 2020 2020 2020   c+1  ..        
-000008e0: 7365 6c66 2e63 6f6f 6b69 6573 5b22 6122  self.cookies["a"
-000008f0: 5d20 3d20 630d 0a20 2020 2020 2020 2069  ] = c..        i
-00000900: 6620 633e 3130 3a0d 0a20 2020 2020 2020  f c>10:..       
-00000910: 2020 2020 2064 656c 2073 656c 662e 636f       del self.co
-00000920: 6f6b 6965 735b 2261 225d 0d0a 2020 2020  okies["a"]..    
-00000930: 2020 2020 2020 2020 6320 3d20 300d 0a20          c = 0.. 
-00000940: 2020 2020 2020 2073 656c 662e 7365 7373         self.sess
-00000950: 696f 6e5b 2768 6f6d 6527 5d20 3d20 630d  ion['home'] = c.
-00000960: 0a20 2020 2020 2020 2074 6578 7420 3d20  .        text = 
-00000970: 2248 656c 6c6f 2057 6f72 6c64 2120 4927  "Hello World! I'
-00000980: 6d20 696e 2046 6173 7461 7069 4d76 6346  m in FastapiMvcF
-00000990: 7261 6d65 776f 726b 220d 0a20 2020 2020  ramework"..     
-000009a0: 2020 2072 6f75 7465 7273 5f6d 6170 203d     routers_map =
-000009b0: 2061 7070 6c69 6361 7469 6f6e 2e72 6f75   application.rou
-000009c0: 7465 7273 5f6d 6170 0d0a 2020 2020 2020  ters_map..      
-000009d0: 2020 726f 7574 6572 7320 3d20 6170 706c    routers = appl
-000009e0: 6963 6174 696f 6e2e 726f 7574 6573 200d  ication.routes .
-000009f0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00000a00: 7365 6c66 2e76 6965 7728 290d 0a20 2020  self.view()..   
-00000a10: 200d 0a20 2020 2040 6170 692e 6765 7428   ..    @api.get(
-00000a20: 222f 786d 6c22 2c61 7574 683d 2775 7365  "/xml",auth='use
-00000a30: 7227 290d 0a20 2020 2064 6566 2067 6574  r')..    def get
-00000a40: 5f6c 6567 6163 795f 6461 7461 2873 656c  _legacy_data(sel
-00000a50: 6629 3a0d 0a20 2020 2020 2020 2022 2222  f):..        """
-00000a60: 3a74 6974 6c65 2058 4d4c 2850 726f 7465  :title XML(Prote
-00000a70: 6374 6564 2922 2222 0d0a 0d0a 2020 2020  cted)"""....    
-00000a80: 2020 2020 6461 7461 203d 2022 2222 3c3f      data = """<?
-00000a90: 786d 6c20 7665 7273 696f 6e3d 2231 2e30  xml version="1.0
-00000aa0: 223f 3e0d 0a20 2020 2020 2020 203c 7368  "?>..        <sh
-00000ab0: 616d 706f 6f3e 0d0a 2020 2020 2020 2020  ampoo>..        
-00000ac0: 3c48 6561 6465 723e 0d0a 2020 2020 2020  <Header>..      
-00000ad0: 2020 2020 2020 4170 706c 7920 7368 616d        Apply sham
-00000ae0: 706f 6f20 6865 7265 2e0d 0a20 2020 2020  poo here...     
-00000af0: 2020 203c 2f48 6561 6465 723e 0d0a 2020     </Header>..  
-00000b00: 2020 2020 2020 3c42 6f64 793e 0d0a 2020        <Body>..  
-00000b10: 2020 2020 2020 2020 2020 596f 7527 6c6c            You'll
-00000b20: 2068 6176 6520 746f 2075 7365 2073 6f61   have to use soa
-00000b30: 7020 6865 7265 2e0d 0a20 2020 2020 2020  p here...       
-00000b40: 203c 2f42 6f64 793e 0d0a 2020 2020 2020   </Body>..      
-00000b50: 2020 3c2f 7368 616d 706f 6f3e 0d0a 2020    </shampoo>..  
-00000b60: 2020 2020 2020 2222 220d 0a20 2020 2020        """..     
-00000b70: 2020 2072 6574 7572 6e20 7365 6c66 2e76     return self.v
-00000b80: 6965 7728 636f 6e74 656e 743d 6461 7461  iew(content=data
-00000b90: 2c6d 6564 6961 5f74 7970 653d 2261 7070  ,media_type="app
-00000ba0: 6c69 6361 7469 6f6e 2f78 6d6c 2229 0d0a  lication/xml")..
-00000bb0: 2020 2020 2020 2020 2020 0d0a 2020 2020            ..    
-00000bc0: 4061 7069 2e67 6574 2822 2f63 6861 7467  @api.get("/chatg
-00000bd0: 7074 2229 0d0a 2020 2020 6465 6620 6368  pt")..    def ch
-00000be0: 6174 6770 7428 7365 6c66 293a 0d0a 2020  atgpt(self):..  
-00000bf0: 2020 2020 2020 2222 220d 0a20 2020 2020        """..     
-00000c00: 2020 203a 7469 746c 6520 4368 6174 0d0a     :title Chat..
-00000c10: 2020 2020 2020 2020 2222 220d 0a20 2020          """..   
-00000c20: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00000c30: 2e76 6965 7728 290d 0a0d 0a0d 0a60 6060  .view()......```
-00000c40: 0d0a 0d0a 686f 6d65 2e68 746d 6c3a 0d0a  ....home.html:..
-00000c50: 0d0a 6060 6068 746d 6c0d 0a3c 626f 6479  ..```html..<body
-00000c60: 3e0d 0a20 2020 203c 6865 6164 6572 3e0d  >..    <header>.
-00000c70: 0a20 2020 2020 2020 203c 6831 3e4d 7920  .        <h1>My 
-00000c80: 5765 6273 6974 653c 2f68 313e 0d0a 2020  Website</h1>..  
-00000c90: 2020 3c2f 6865 6164 6572 3e0d 0a20 2020    </header>..   
-00000ca0: 203c 6e61 763e 0d0a 2020 2020 2020 2020   <nav>..        
-00000cb0: 7b25 2066 6f72 2069 7465 6d20 696e 2072  {% for item in r
-00000cc0: 6f75 7465 7273 5f6d 6170 2025 7d20 7b25  outers_map %} {%
-00000cd0: 2069 6620 2747 4554 2720 696e 2072 6f75   if 'GET' in rou
-00000ce0: 7465 7273 5f6d 6170 5b69 7465 6d5d 5b27  ters_map[item]['
-00000cf0: 6d65 7468 6f64 7327 5d20 257d 0d0a 2020  methods'] %}..  
-00000d00: 2020 2020 2020 3c61 2068 7265 663d 227b        <a href="{
-00000d10: 7b72 6f75 7465 7273 5f6d 6170 5b69 7465  {routers_map[ite
-00000d20: 6d5d 5b27 7061 7468 275d 7d7d 223e 7b7b  m]['path']}}">{{
-00000d30: 726f 7574 6572 735f 6d61 705b 6974 656d  routers_map[item
-00000d40: 5d5b 2764 6f63 275d 2061 6e64 2072 6f75  ]['doc'] and rou
-00000d50: 7465 7273 5f6d 6170 5b69 7465 6d5d 5b27  ters_map[item]['
-00000d60: 646f 6327 5d5b 2774 6974 6c65 275d 206f  doc']['title'] o
-00000d70: 7220 6974 656d 7d7d 3c2f 613e 207b 2520  r item}}</a> {% 
-00000d80: 656e 6469 6620 257d 207b 2520 656e 6466  endif %} {% endf
-00000d90: 6f72 2025 7d0d 0a0d 0a20 2020 2020 2020  or %}....       
-00000da0: 203c 6120 6872 6566 3d22 2322 3e41 626f   <a href="#">Abo
-00000db0: 7574 3c2f 613e 0d0a 2020 2020 2020 2020  ut</a>..        
-00000dc0: 3c61 2068 7265 663d 2223 223e 436f 6e74  <a href="#">Cont
-00000dd0: 6163 743c 2f61 3e20 7b25 2069 6620 7265  act</a> {% if re
-00000de0: 7175 6573 742e 7365 7373 696f 6e5b 2775  quest.session['u
-00000df0: 7365 7227 5d20 257d 0d0a 2020 2020 2020  ser'] %}..      
-00000e00: 2020 3c61 2068 7265 663d 222f 7573 6572    <a href="/user
-00000e10: 2f6c 6f67 6f75 7422 3e3c 623e 7b7b 7265  /logout"><b>{{re
-00000e20: 7175 6573 742e 7365 7373 696f 6e5b 2775  quest.session['u
-00000e30: 7365 7227 5d5b 2775 7365 726e 616d 6527  ser']['username'
-00000e40: 5d7d 7d3c 2f62 3e20 4c6f 676f 7574 3c2f  ]}}</b> Logout</
-00000e50: 613e 207b 2520 656e 6469 6620 257d 0d0a  a> {% endif %}..
-00000e60: 2020 2020 3c2f 6e61 763e 0d0a 2020 2020      </nav>..    
-00000e70: 3c73 6563 7469 6f6e 3e0d 0a20 2020 2020  <section>..     
-00000e80: 2020 203c 6832 3e57 656c 636f 6d65 2074     <h2>Welcome t
-00000e90: 6f20 6d79 2077 6562 7369 7465 3c2f 6832  o my website</h2
-00000ea0: 3e0d 0a20 2020 2020 2020 203c 703e 5468  >..        <p>Th
-00000eb0: 6973 2069 7320 616e 2065 7861 6d70 6c65  is is an example
-00000ec0: 206f 6620 6120 7265 7370 6f6e 7369 7665   of a responsive
-00000ed0: 2064 6573 6967 6e20 7468 6174 2077 6f72   design that wor
-00000ee0: 6b73 2077 656c 6c20 6f6e 2062 6f74 6820  ks well on both 
-00000ef0: 6465 736b 746f 7020 616e 6420 6d6f 6269  desktop and mobi
-00000f00: 6c65 2064 6576 6963 6573 2e3c 2f70 3e0d  le devices.</p>.
-00000f10: 0a20 2020 2020 2020 203c 703e 6865 7265  .        <p>here
-00000f20: 2069 7320 7468 6520 6074 6578 7460 2076   is the `text` v
-00000f30: 6172 6961 626c 6520 696e 2063 6c61 7373  ariable in class
-00000f40: 206d 6574 686f 643a 7b7b 7465 7874 7d7d   method:{{text}}
-00000f50: 3c2f 703e 0d0a 2020 2020 2020 2020 3c70  </p>..        <p
-00000f60: 2073 7479 6c65 3d22 636f 6c6f 723a 7265   style="color:re
-00000f70: 6422 3e3c 623e 7b7b 666c 6173 687d 7d3c  d"><b>{{flash}}<
-00000f80: 2f62 3e3c 2f70 3e0d 0a20 2020 203c 2f73  /b></p>..    </s
-00000f90: 6563 7469 6f6e 3e0d 0a20 2020 203c 666f  ection>..    <fo
-00000fa0: 6f74 6572 3e0d 0a20 2020 2020 2020 203c  oter>..        <
-00000fb0: 703e 2663 6f70 793b 2032 3032 3320 4d79  p>&copy; 2023 My
-00000fc0: 2057 6562 7369 7465 3c2f 703e 0d0a 2020   Website</p>..  
-00000fd0: 2020 3c2f 666f 6f74 6572 3e0d 0a3c 2f62    </footer>..</b
-00000fe0: 6f64 793e 0d0a 6060 600d 0a0d 0a79 6f75  ody>..```....you
-00000ff0: 7220 7072 6f6a 6563 7420 6469 7265 6374  r project direct
-00001000: 6f72 7920 7374 7275 6374 7275 6520 6c69  ory structrue li
-00001010: 6b65 2074 6869 733a 0d0a 6060 600d 0a2b  ke this:..```..+
-00001020: 2d2d 2d61 7070 0d0a 7c20 2020 7c20 2020  ---app..|   |   
-00001030: 5f5f 696e 6974 5f5f 2e70 790d 0a7c 2020  __init__.py..|  
-00001040: 207c 0d0a 7c20 2020 2b2d 2d2d 636f 6e74   |..|   +---cont
-00001050: 726f 6c6c 6572 730d 0a7c 2020 207c 2020  rollers..|   |  
-00001060: 207c 2020 2074 6573 745f 636f 6e74 726f   |   test_contro
-00001070: 6c6c 6572 2e70 790d 0a7c 2020 207c 2020  ller.py..|   |  
-00001080: 207c 2020 205f 5f69 6e69 745f 5f2e 7079   |   __init__.py
-00001090: 0d0a 7c20 2020 7c20 2020 7c0d 0a7c 2020  ..|   |   |..|  
-000010a0: 202b 2d2d 2d6d 6f64 656c 730d 0a7c 2020   +---models..|  
-000010b0: 207c 2020 207c 2020 2075 7365 725f 6d6f   |   |   user_mo
-000010c0: 6465 6c2e 7079 0d0a 7c20 2020 7c20 2020  del.py..|   |   
-000010d0: 7c20 2020 5f5f 696e 6974 5f5f 2e70 790d  |   __init__.py.
-000010e0: 0a7c 2020 207c 2020 207c 0d0a 7c20 2020  .|   |   |..|   
-000010f0: 2b2d 2d2d 7365 7276 6963 6573 0d0a 7c20  +---services..| 
-00001100: 2020 7c20 2020 7c20 2020 7573 6572 5f73    |   |   user_s
-00001110: 6572 7669 6365 2e70 790d 0a7c 2020 207c  ervice.py..|   |
-00001120: 2020 207c 2020 205f 5f69 6e69 745f 5f2e     |   __init__.
-00001130: 7079 0d0a 7c20 2020 7c20 2020 7c0d 0a7c  py..|   |   |..|
-00001140: 2020 202b 2d2d 2d76 6965 7773 0d0a 7c20     +---views..| 
-00001150: 2020 7c20 2020 2b2d 2d2d 6162 630d 0a7c    |   +---abc..|
-00001160: 2020 207c 2020 207c 2020 205c 2d2d 2d32     |   |   \---2
-00001170: 2e30 0d0a 7c20 2020 7c20 2020 7c20 2020  .0..|   |   |   
-00001180: 2020 2020 2020 2020 6373 732e 6373 730d          css.css.
-00001190: 0a7c 2020 207c 2020 207c 2020 2020 2020  .|   |   |      
-000011a0: 2020 2020 2068 6f6d 652e 6874 6d6c 0d0a       home.html..
-000011b0: 7c20 2020 7c20 2020 7c0d 0a7c 2020 207c  |   |   |..|   |
-000011c0: 2020 202b 2d2d 2d74 6573 740d 0a7c 2020     +---test..|  
-000011d0: 207c 2020 207c 2020 2020 2020 2063 6861   |   |       cha
-000011e0: 7467 7074 2e63 7373 0d0a 7c20 2020 7c20  tgpt.css..|   | 
-000011f0: 2020 7c20 2020 2020 2020 6368 6174 6770    |       chatgp
-00001200: 742e 6874 6d6c 0d0a 7c20 2020 7c20 2020  t.html..|   |   
-00001210: 7c20 2020 2020 2020 6368 6174 6770 742e  |       chatgpt.
-00001220: 6a73 0d0a 7c20 2020 7c20 2020 7c20 2020  js..|   |   |   
-00001230: 2020 2020 686f 6d65 2e68 746d 6c0d 0a7c      home.html..|
-00001240: 2020 207c 2020 207c 2020 2020 2020 2068     |   |       h
-00001250: 6f6d 652e 6a73 0d0a 7c20 2020 7c20 2020  ome.js..|   |   
-00001260: 7c20 2020 2020 2020 6c6f 6769 6e2e 6874  |       login.ht
-00001270: 6d6c 0d0a 7c20 2020 7c20 2020 7c0d 0a7c  ml..|   |   |..|
-00001280: 2020 207c 2020 205c 2d2d 2d77 730d 0a7c     |   \---ws..|
-00001290: 2020 207c 2020 2020 2020 2020 2020 2077     |           w
-000012a0: 735f 686f 6d65 2e68 746d 6c0d 0a7c 2020  s_home.html..|  
-000012b0: 207c 0d0a 2b2d 2d2d 6170 7031 0d0a 7c20   |..+---app1..| 
-000012c0: 2020 7c20 2020 5f5f 696e 6974 5f5f 2e70    |   __init__.p
-000012d0: 790d 0a7c 2020 207c 0d0a 7c20 2020 2b2d  y..|   |..|   +-
-000012e0: 2d2d 636f 6e74 726f 6c6c 6572 730d 0a7c  --controllers..|
-000012f0: 2020 207c 2020 207c 2020 2074 6573 7431     |   |   test1
-00001300: 5f63 6f6e 7472 6f6c 6c65 722e 7079 0d0a  _controller.py..
-00001310: 7c20 2020 7c20 2020 7c20 2020 5f5f 696e  |   |   |   __in
-00001320: 6974 5f5f 2e70 790d 0a7c 2020 207c 2020  it__.py..|   |  
-00001330: 207c 0d0a 7c20 2020 2b2d 2d2d 7669 6577   |..|   +---view
-00001340: 730d 0a7c 2020 207c 2020 202b 2d2d 2d74  s..|   |   +---t
-00001350: 6573 7431 0d0a 7c20 2020 7c20 2020 7c20  est1..|   |   | 
-00001360: 2020 5c2d 2d2d 7631 2e30 0d0a 7c20 2020    \---v1.0..|   
-00001370: 7c20 2020 7c20 2020 2020 2020 2020 2020  |   |           
-00001380: 686f 6d65 2e63 7373 0d0a 7c20 2020 7c20  home.css..|   | 
-00001390: 2020 7c20 2020 2020 2020 2020 2020 686f    |           ho
-000013a0: 6d65 2e68 746d 6c0d 0a7c 2020 207c 2020  me.html..|   |  
-000013b0: 207c 2020 2020 2020 2020 2020 2068 6f6d   |           hom
-000013c0: 6531 2e63 7373 0d0a 7c20 2020 7c20 2020  e1.css..|   |   
-000013d0: 7c0d 0a7c 2020 207c 2020 205c 2d2d 2d74  |..|   |   \---t
-000013e0: 6573 7432 0d0a 7c0d 0a2b 2d2d 2d63 6f6e  est2..|..+---con
-000013f0: 6669 6773 0d0a 7c20 2020 2020 2020 616c  figs..|       al
-00001400: 656d 6269 632e 696e 690d 0a7c 2020 2020  embic.ini..|    
-00001410: 2020 2063 6163 6865 2e79 616d 6c0d 0a7c     cache.yaml..|
-00001420: 2020 2020 2020 2063 6173 6269 6e2d 6164         casbin-ad
-00001430: 6170 7465 722e 6373 760d 0a7c 2020 2020  apter.csv..|    
-00001440: 2020 2063 6173 6269 6e2d 6d6f 6465 6c2e     casbin-model.
-00001450: 636f 6e66 0d0a 7c20 2020 2020 2020 6461  conf..|       da
-00001460: 7461 6261 7365 2e79 616d 6c0d 0a7c 2020  tabase.yaml..|  
-00001470: 2020 2020 2067 656e 6572 616c 2e79 616d       general.yam
-00001480: 6c0d 0a7c 2020 2020 2020 2073 6573 7369  l..|       sessi
-00001490: 6f6e 2e79 616d 6c0d 0a7c 0d0a 2b2d 2d2d  on.yaml..|..+---
-000014a0: 6461 7461 0d0a 7c20 2020 2b2d 2d2d 616c  data..|   +---al
-000014b0: 656d 6269 630d 0a7c 2020 207c 2020 207c  embic..|   |   |
-000014c0: 2020 2065 6e76 2e70 790d 0a7c 2020 207c     env.py..|   |
-000014d0: 2020 207c 2020 2052 4541 444d 450d 0a7c     |   README..|
-000014e0: 2020 207c 2020 207c 2020 2073 6372 6970     |   |   scrip
-000014f0: 742e 7079 2e6d 616b 6f0d 0a7c 2020 207c  t.py.mako..|   |
-00001500: 2020 207c 0d0a 7c20 2020 7c20 2020 2b2d     |..|   |   +-
-00001510: 2d2d 7665 7273 696f 6e73 0d0a 7c20 2020  --versions..|   
-00001520: 7c20 2020 7c20 2020 7c20 2020 3064 3032  |   |   |   0d02
-00001530: 3035 6462 3562 3339 5f63 7265 6174 655f  05db5b39_create_
-00001540: 7461 626c 6573 2e70 790d 0a7c 2020 207c  tables.py..|   |
-00001550: 2020 207c 2020 207c 2020 2030 6534 6531     |   |   0e4e1
-00001560: 3565 3637 3336 375f 6175 746f 6765 6e65  5e67367_autogene
-00001570: 7261 7465 2e70 790d 0a7c 2020 207c 2020  rate.py..|   |  
-00001580: 207c 2020 207c 2020 2031 3038 6461 6431   |   |   108dad1
-00001590: 3231 3232 375f 5f6e 6577 5f75 7067 7261  21227__new_upgra
-000015a0: 6465 5f6f 7065 7261 7469 6f6e 735f 6465  de_operations_de
-000015b0: 7465 6374 6564 5f5f 6164 645f 2e70 790d  tected__add_.py.
-000015c0: 0a7c 2020 207c 2020 207c 2020 207c 2020  .|   |   |   |  
-000015d0: 2061 6337 6365 3037 3132 3662 335f 6175   ac7ce07126b3_au
-000015e0: 746f 6765 6e65 7261 7465 2e70 790d 0a7c  togenerate.py..|
-000015f0: 2020 207c 2020 207c 2020 207c 2020 2065     |   |   |   e
-00001600: 3531 3731 3165 6233 6438 345f 6175 746f  51711eb3d84_auto
-00001610: 6765 6e65 7261 7465 2e70 790d 0a7c 2020  generate.py..|  
-00001620: 207c 2020 207c 2020 207c 0d0a 7c20 2020   |   |   |..|   
-00001630: 5c2d 2d2d 6462 0d0a 7c20 2020 2020 2020  \---db..|       
-00001640: 2020 2020 7465 7374 2e64 620d 0a0d 0a60      test.db....`
-00001650: 6060 0d0a                                ``..
+000002b0: 436c 6173 7369 6669 6572 3a20 5072 6f67  Classifier: Prog
+000002c0: 7261 6d6d 696e 6720 4c61 6e67 7561 6765  ramming Language
+000002d0: 203a 3a20 5079 7468 6f6e 203a 3a20 332e   :: Python :: 3.
+000002e0: 3131 0d0a 5265 7175 6972 6573 2d50 7974  11..Requires-Pyt
+000002f0: 686f 6e3a 203e 3d33 2e36 0d0a 4465 7363  hon: >=3.6..Desc
+00000300: 7269 7074 696f 6e2d 436f 6e74 656e 742d  ription-Content-
+00000310: 5479 7065 3a20 7465 7874 2f6d 6172 6b64  Type: text/markd
+00000320: 6f77 6e0d 0a0d 0a23 2066 6173 7461 7069  own....# fastapi
+00000330: 5f66 7261 6d65 776f 726b 0d0a 4120 6d76  _framework..A mv
+00000340: 6320 6672 616d 6577 6f72 6b20 7573 6564  c framework used
+00000350: 2046 6173 7441 7069 0d0a 5369 6d70 6c65   FastApi..Simple
+00000360: 2061 6e64 2065 6c65 6761 6e74 2075 7365   and elegant use
+00000370: 206f 6620 4661 7374 4170 6920 696e 204d   of FastApi in M
+00000380: 5643 206d 6f64 650d 0a0d 0a5b 4465 6d6f  VC mode....[Demo
+00000390: 5d28 6874 7470 733a 2f2f 6672 616d 6577  ](https://framew
+000003a0: 6f72 6b2e 3272 6169 6c73 2e63 6e2f 2920  ork.2rails.cn/) 
+000003b0: 0d0a 0d0a 2323 2320 6465 706c 6f79 206f  ....### deploy o
+000003c0: 6e65 2063 6c69 636b 206f 6e20 7665 7263  ne click on verc
+000003d0: 656c 3a0d 0a5b 215b 4465 706c 6f79 2077  el:..[![Deploy w
+000003e0: 6974 6820 5665 7263 656c 5d28 6874 7470  ith Vercel](http
+000003f0: 733a 2f2f 7665 7263 656c 2e63 6f6d 2f62  s://vercel.com/b
+00000400: 7574 746f 6e29 5d28 6874 7470 733a 2f2f  utton)](https://
+00000410: 7665 7263 656c 2e63 6f6d 2f6e 6577 2f63  vercel.com/new/c
+00000420: 6c6f 6e65 3f72 6570 6f73 6974 6f72 792d  lone?repository-
+00000430: 7572 6c3d 6874 7470 7325 3341 2532 4625  url=https%3A%2F%
+00000440: 3246 6769 7468 7562 2e63 6f6d 2532 4673  2Fgithub.com%2Fs
+00000450: 6d6a 6b7a 736c 2532 4666 6173 7461 7069  mjkzsl%2Ffastapi
+00000460: 2d6d 7663 2d66 7261 6d65 776f 726b 2670  -mvc-framework&p
+00000470: 726f 6a65 6374 2d6e 616d 653d 6661 7374  roject-name=fast
+00000480: 6170 692d 6d76 632d 6672 616d 6577 6f72  api-mvc-framewor
+00000490: 6b26 7265 706f 7369 746f 7279 2d6e 616d  k&repository-nam
+000004a0: 653d 6661 7374 6170 692d 6d76 632d 6672  e=fastapi-mvc-fr
+000004b0: 616d 6577 6f72 6b29 0d0a 0d0a 2323 2075  amework)....## u
+000004c0: 7361 6765 3a0d 0a69 6e73 7461 6c6c 3a0d  sage:..install:.
+000004d0: 0a60 6060 7368 0d0a 7069 7020 696e 7374  .```sh..pip inst
+000004e0: 616c 6c20 6661 7374 6170 692d 6d76 632d  all fastapi-mvc-
+000004f0: 6672 616d 6577 6f72 6b0d 0a60 6060 0d0a  framework..```..
+00000500: 0d0a 636f 6e74 726f 6c6c 6572 3a0d 0a60  ..controller:..`
+00000510: 6060 7079 7468 6f6e 0d0a 0d0a 6672 6f6d  ``python....from
+00000520: 2066 6173 7461 7069 5f6d 7663 5f66 7261   fastapi_mvc_fra
+00000530: 6d65 776f 726b 2069 6d70 6f72 7420 6170  mework import ap
+00000540: 695f 726f 7574 6572 2c61 7069 2c52 6571  i_router,api,Req
+00000550: 7565 7374 2c52 6573 706f 6e73 652c 4261  uest,Response,Ba
+00000560: 7365 436f 6e74 726f 6c6c 6572 2c61 7070  seController,app
+00000570: 6c69 6361 7469 6f6e 2c57 6562 536f 636b  lication,WebSock
+00000580: 6574 2c57 6562 536f 636b 6574 4469 7363  et,WebSocketDisc
+00000590: 6f6e 6e65 6374 2c55 706c 6f61 6446 696c  onnect,UploadFil
+000005a0: 652c 4669 6c65 0d0a 6672 6f6d 2074 7970  e,File..from typ
+000005b0: 696e 6720 696d 706f 7274 2044 6963 7420  ing import Dict 
+000005c0: 2c4c 6973 740d 0a20 0d0a 0d0a 6170 706c  ,List.. ....appl
+000005d0: 6963 6174 696f 6e2e 5f70 7562 6c69 635f  ication._public_
+000005e0: 6175 7468 5f75 726c 203d 2027 2f75 7365  auth_url = '/use
+000005f0: 722f 6c6f 6769 6e27 0d0a 6170 706c 6963  r/login'..applic
+00000600: 6174 696f 6e2e 5f75 7365 725f 6175 7468  ation._user_auth
+00000610: 5f75 726c 203d 2027 2f75 7365 722f 6c6f  _url = '/user/lo
+00000620: 6769 6e27 0d0a 0d0a 4061 7069 5f72 6f75  gin'....@api_rou
+00000630: 7465 7228 6175 7468 3d27 7075 626c 6963  ter(auth='public
+00000640: 2729 0d0a 636c 6173 7320 5465 7374 436f  ')..class TestCo
+00000650: 6e74 726f 6c6c 6572 2842 6173 6543 6f6e  ntroller(BaseCon
+00000660: 7472 6f6c 6c65 7229 3a20 0d0a 2020 2020  troller): ..    
+00000670: 4061 7069 2e67 6574 2822 2f75 7365 722f  @api.get("/user/
+00000680: 6c6f 6769 6e22 2029 0d0a 2020 2020 6465  login" )..    de
+00000690: 6620 6c6f 6769 6e28 7365 6c66 293a 0d0a  f login(self):..
+000006a0: 2020 2020 2020 2020 2222 223a 7469 746c          """:titl
+000006b0: 6520 4c6f 6769 6e22 2222 2020 0d0a 2020  e Login"""  ..  
+000006c0: 2020 2020 2020 7265 6469 7265 6374 203d        redirect =
+000006d0: 2073 656c 662e 6765 745f 7061 7261 6d28   self.get_param(
+000006e0: 2772 6564 6972 6563 7427 2920 6966 2073  'redirect') if s
+000006f0: 656c 662e 6765 745f 7061 7261 6d28 2772  elf.get_param('r
+00000700: 6564 6972 6563 7427 2920 656c 7365 2027  edirect') else '
+00000710: 2f27 200d 0a20 2020 2020 2020 2072 6574  /' ..        ret
+00000720: 7572 6e20 7365 6c66 2e76 6965 7728 2920  urn self.view() 
+00000730: 0d0a 2020 2020 4061 7069 2e70 6f73 7428  ..    @api.post(
+00000740: 222f 7465 7374 2f76 6572 6974 795f 7573  "/test/verity_us
+00000750: 6572 222c 6175 7468 3d22 6e6f 6e65 2229  er",auth="none")
+00000760: 0d0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+00000770: 7665 7269 7479 5f75 7365 7228 7365 6c66  verity_user(self
+00000780: 293a 2020 0d0a 2020 2020 2020 2020 7573  ):  ..        us
+00000790: 6572 6e61 6d65 203d 2073 656c 665b 2775  ername = self['u
+000007a0: 7365 726e 616d 6527 5d0d 0a20 2020 2020  sername']..     
+000007b0: 2020 2070 6173 7377 6f72 6420 3d20 7365     password = se
+000007c0: 6c66 5b27 7061 7373 776f 7264 275d 0d0a  lf['password']..
+000007d0: 2020 2020 2020 2020 7265 6469 7265 6374          redirect
+000007e0: 203d 2073 656c 665b 2772 6564 6972 6563   = self['redirec
+000007f0: 7427 5d0d 0a20 2020 2020 2020 2069 6620  t']..        if 
+00000800: 7573 6572 6e61 6d65 2061 6e64 2070 6173  username and pas
+00000810: 7377 6f72 643a 0d0a 2020 2020 2020 2020  sword:..        
+00000820: 2020 2020 2364 6f20 7665 7269 7469 6564      #do veritied
+00000830: 0d0a 2020 2020 2020 2020 2020 2020 6966  ..            if
+00000840: 2075 7365 726e 616d 6520 696e 205b 2762   username in ['b
+00000850: 7275 6365 272c 2761 6c69 6365 275d 2061  ruce','alice'] a
+00000860: 6e64 2070 6173 7377 6f72 643a 0d0a 2020  nd password:..  
+00000870: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00000880: 7475 726e 2073 656c 662e 5f76 6572 6974  turn self._verit
+00000890: 795f 7375 6363 6573 7365 6428 7573 6572  y_successed(user
+000008a0: 6e61 6d65 2c72 6564 6972 6563 7429 0d0a  name,redirect)..
+000008b0: 2020 2020 2020 2020 2020 2020 656c 7365              else
+000008c0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+000008d0: 2020 2072 6574 7572 6e20 7365 6c66 2e5f     return self._
+000008e0: 7665 7269 7479 5f65 7272 6f72 2829 200d  verity_error() .
+000008f0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00000900: 7365 6c66 2e5f 7665 7269 7479 5f65 7272  self._verity_err
+00000910: 6f72 2829 0d0a 2020 2020 0d0a 2020 2020  or()..    ..    
+00000920: 4061 7069 2e67 6574 2822 2f75 7365 722f  @api.get("/user/
+00000930: 6c6f 676f 7574 2229 0d0a 2020 2020 6465  logout")..    de
+00000940: 6620 6c6f 676f 7574 2873 656c 6629 3a0d  f logout(self):.
+00000950: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00000960: 7365 6c66 2e5f 7573 6572 5f6c 6f67 6f75  self._user_logou
+00000970: 7428 290d 0a20 2020 200d 0a20 2020 2040  t()..    ..    @
+00000980: 6170 692e 706f 7374 2822 2f74 6573 742f  api.post("/test/
+00000990: 7570 6c6f 6164 2229 0d0a 2020 2020 6173  upload")..    as
+000009a0: 796e 6320 6465 6620 7570 6c6f 6164 5f74  ync def upload_t
+000009b0: 6573 7428 7365 6c66 2c66 696c 6573 3a4c  est(self,files:L
+000009c0: 6973 745b 5570 6c6f 6164 4669 6c65 5d3d  ist[UploadFile]=
+000009d0: 4669 6c65 282e 2e2e 2929 3a0d 0a20 2020  File(...)):..   
+000009e0: 2020 2020 2070 203d 207b 7d0d 0a20 2020       p = {}..   
+000009f0: 2020 2020 2066 6f72 2066 696c 6520 696e       for file in
+00000a00: 2066 696c 6573 3a0d 0a20 2020 2020 2020   files:..       
+00000a10: 2020 2020 2070 6174 682c 7572 6c20 3d20       path,url = 
+00000a20: 6177 6169 7420 7365 6c66 2e67 6574 5570  await self.getUp
+00000a30: 6c6f 6164 4669 6c65 2866 696c 6529 0d0a  loadFile(file)..
+00000a40: 2020 2020 2020 2020 2020 2020 705b 6669              p[fi
+00000a50: 6c65 2e66 696c 656e 616d 655d 203d 205b  le.filename] = [
+00000a60: 7061 7468 2c75 726c 5d0d 0a20 2020 2020  path,url]..     
+00000a70: 2020 2072 6574 7572 6e20 7b22 6669 6c65     return {"file
+00000a80: 7322 3a70 7d20 0d0a 2020 2020 0d0a 2020  s":p} ..    ..  
+00000a90: 2020 0d0a 2020 2020 4061 7069 2e67 6574    ..    @api.get
+00000aa0: 2822 2f22 2c61 7574 683d 276e 6f6e 6527  ("/",auth='none'
+00000ab0: 2029 0d0a 2020 2020 6465 6620 686f 6d65   )..    def home
+00000ac0: 2873 656c 662c 7265 7175 6573 743a 5265  (self,request:Re
+00000ad0: 7175 6573 7429 3a20 0d0a 2020 2020 2020  quest): ..      
+00000ae0: 2020 2727 270d 0a20 2020 2020 2020 203a    '''..        :
+00000af0: 7469 746c 6520 486f 6d65 0d0a 2020 2020  title Home..    
+00000b00: 2020 2020 2727 270d 0a20 2020 2020 2020      '''..       
+00000b10: 2063 203d 2073 656c 662e 7365 7373 696f   c = self.sessio
+00000b20: 6e2e 6765 7428 2768 6f6d 6527 2c31 290d  n.get('home',1).
+00000b30: 0a20 2020 2020 2020 2063 203d 2063 2b31  .        c = c+1
+00000b40: 2020 0d0a 2020 2020 2020 2020 7365 6c66    ..        self
+00000b50: 2e63 6f6f 6b69 6573 5b22 6122 5d20 3d20  .cookies["a"] = 
+00000b60: 630d 0a20 2020 2020 2020 2069 6620 633e  c..        if c>
+00000b70: 3130 3a0d 0a20 2020 2020 2020 2020 2020  10:..           
+00000b80: 2064 656c 2073 656c 662e 636f 6f6b 6965   del self.cookie
+00000b90: 735b 2261 225d 0d0a 2020 2020 2020 2020  s["a"]..        
+00000ba0: 2020 2020 6320 3d20 300d 0a20 2020 2020      c = 0..     
+00000bb0: 2020 2073 656c 662e 7365 7373 696f 6e5b     self.session[
+00000bc0: 2768 6f6d 6527 5d20 3d20 630d 0a20 2020  'home'] = c..   
+00000bd0: 2020 2020 2074 6578 7420 3d20 2248 656c       text = "Hel
+00000be0: 6c6f 2057 6f72 6c64 2120 4927 6d20 696e  lo World! I'm in
+00000bf0: 2046 6173 7461 7069 4d76 6346 7261 6d65   FastapiMvcFrame
+00000c00: 776f 726b 220d 0a20 2020 2020 2020 2072  work"..        r
+00000c10: 6f75 7465 7273 5f6d 6170 203d 2061 7070  outers_map = app
+00000c20: 6c69 6361 7469 6f6e 2e72 6f75 7465 7273  lication.routers
+00000c30: 5f6d 6170 0d0a 2020 2020 2020 2020 726f  _map..        ro
+00000c40: 7574 6572 7320 3d20 6170 706c 6963 6174  uters = applicat
+00000c50: 696f 6e2e 726f 7574 6573 200d 0a20 2020  ion.routes ..   
+00000c60: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00000c70: 2e76 6965 7728 290d 0a20 2020 200d 0a20  .view()..    .. 
+00000c80: 2020 2040 6170 692e 6765 7428 222f 786d     @api.get("/xm
+00000c90: 6c22 2c61 7574 683d 2775 7365 7227 290d  l",auth='user').
+00000ca0: 0a20 2020 2064 6566 2067 6574 5f6c 6567  .    def get_leg
+00000cb0: 6163 795f 6461 7461 2873 656c 6629 3a0d  acy_data(self):.
+00000cc0: 0a20 2020 2020 2020 2022 2222 3a74 6974  .        """:tit
+00000cd0: 6c65 2058 4d4c 2850 726f 7465 6374 6564  le XML(Protected
+00000ce0: 2922 2222 0d0a 0d0a 2020 2020 2020 2020  )"""....        
+00000cf0: 6461 7461 203d 2022 2222 3c3f 786d 6c20  data = """<?xml 
+00000d00: 7665 7273 696f 6e3d 2231 2e30 223f 3e0d  version="1.0"?>.
+00000d10: 0a20 2020 2020 2020 203c 7368 616d 706f  .        <shampo
+00000d20: 6f3e 0d0a 2020 2020 2020 2020 3c48 6561  o>..        <Hea
+00000d30: 6465 723e 0d0a 2020 2020 2020 2020 2020  der>..          
+00000d40: 2020 4170 706c 7920 7368 616d 706f 6f20    Apply shampoo 
+00000d50: 6865 7265 2e0d 0a20 2020 2020 2020 203c  here...        <
+00000d60: 2f48 6561 6465 723e 0d0a 2020 2020 2020  /Header>..      
+00000d70: 2020 3c42 6f64 793e 0d0a 2020 2020 2020    <Body>..      
+00000d80: 2020 2020 2020 596f 7527 6c6c 2068 6176        You'll hav
+00000d90: 6520 746f 2075 7365 2073 6f61 7020 6865  e to use soap he
+00000da0: 7265 2e0d 0a20 2020 2020 2020 203c 2f42  re...        </B
+00000db0: 6f64 793e 0d0a 2020 2020 2020 2020 3c2f  ody>..        </
+00000dc0: 7368 616d 706f 6f3e 0d0a 2020 2020 2020  shampoo>..      
+00000dd0: 2020 2222 220d 0a20 2020 2020 2020 2072    """..        r
+00000de0: 6574 7572 6e20 7365 6c66 2e76 6965 7728  eturn self.view(
+00000df0: 636f 6e74 656e 743d 6461 7461 2c6d 6564  content=data,med
+00000e00: 6961 5f74 7970 653d 2261 7070 6c69 6361  ia_type="applica
+00000e10: 7469 6f6e 2f78 6d6c 2229 0d0a 2020 2020  tion/xml")..    
+00000e20: 2020 2020 2020 0d0a 2020 2020 4061 7069        ..    @api
+00000e30: 2e67 6574 2822 2f63 6861 7467 7074 2229  .get("/chatgpt")
+00000e40: 0d0a 2020 2020 6465 6620 6368 6174 6770  ..    def chatgp
+00000e50: 7428 7365 6c66 293a 0d0a 2020 2020 2020  t(self):..      
+00000e60: 2020 2222 220d 0a20 2020 2020 2020 203a    """..        :
+00000e70: 7469 746c 6520 4368 6174 0d0a 2020 2020  title Chat..    
+00000e80: 2020 2020 2222 220d 0a20 2020 2020 2020      """..       
+00000e90: 2072 6574 7572 6e20 7365 6c66 2e76 6965   return self.vie
+00000ea0: 7728 290d 0a0d 0a0d 0a20 0d0a 200d 0a77  w()...... .. ..w
+00000eb0: 6562 736f 636b 6574 733a 4469 6374 5b73  ebsockets:Dict[s
+00000ec0: 7472 2c57 6562 536f 636b 6574 5d20 3d20  tr,WebSocket] = 
+00000ed0: 7b7d 0d0a 0d0a 4061 7069 5f72 6f75 7465  {}....@api_route
+00000ee0: 7228 7061 7468 3d22 2f7b 636f 6e74 726f  r(path="/{contro
+00000ef0: 6c6c 6572 7d22 290d 0a63 6c61 7373 2057  ller}")..class W
+00000f00: 5343 6f6e 7472 6f6c 6c65 7228 4261 7365  SController(Base
+00000f10: 436f 6e74 726f 6c6c 6572 293a 2020 0d0a  Controller):  ..
+00000f20: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
+00000f30: 2873 656c 6629 202d 3e20 4e6f 6e65 3a0d  (self) -> None:.
+00000f40: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
+00000f50: 2e5f 5f69 6e69 745f 5f28 290d 0a20 2020  .__init__()..   
+00000f60: 2020 2020 200d 0a20 2020 2040 6170 692e       ..    @api.
+00000f70: 6765 7428 222f 2220 290d 0a20 2020 2064  get("/" )..    d
+00000f80: 6566 2077 735f 686f 6d65 2873 656c 6629  ef ws_home(self)
+00000f90: 3a0d 0a20 2020 2020 2020 2022 2222 3a74  :..        """:t
+00000fa0: 6974 6c65 2057 6562 536f 636b 6574 4465  itle WebSocketDe
+00000fb0: 6d6f 2222 220d 0a20 2020 2020 2020 2072  mo"""..        r
+00000fc0: 6574 7572 6e20 7365 6c66 2e76 6965 7728  eturn self.view(
+00000fd0: 290d 0a0d 0a20 2020 2040 6170 692e 7765  )....    @api.we
+00000fe0: 6273 6f63 6b65 7428 222f 6368 6174 2f7b  bsocket("/chat/{
+00000ff0: 636c 6965 6e74 5f69 647d 2229 0d0a 2020  client_id}")..  
+00001000: 2020 6173 796e 6320 6465 6620 7765 6273    async def webs
+00001010: 6f63 6b65 745f 656e 6470 6f69 6e74 2873  ocket_endpoint(s
+00001020: 656c 662c 2077 6562 736f 636b 6574 3a20  elf, websocket: 
+00001030: 5765 6253 6f63 6b65 742c 636c 6965 6e74  WebSocket,client
+00001040: 5f69 643a 2069 6e74 293a 0d0a 2020 2020  _id: int):..    
+00001050: 2020 2020 6177 6169 7420 7765 6273 6f63      await websoc
+00001060: 6b65 742e 6163 6365 7074 2829 0d0a 2020  ket.accept()..  
+00001070: 2020 2020 2020 7765 6273 6f63 6b65 7473        websockets
+00001080: 5b63 6c69 656e 745f 6964 5d3d 2877 6562  [client_id]=(web
+00001090: 736f 636b 6574 290d 0a20 2020 2020 2020  socket)..       
+000010a0: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
+000010b0: 2020 2077 6869 6c65 2054 7275 653a 0d0a     while True:..
+000010c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000010d0: 6461 7461 203d 2061 7761 6974 2077 6562  data = await web
+000010e0: 736f 636b 6574 2e72 6563 6569 7665 5f74  socket.receive_t
+000010f0: 6578 7428 290d 0a20 2020 2020 2020 2020  ext()..         
+00001100: 2020 2020 2020 2061 7761 6974 2077 6562         await web
+00001110: 736f 636b 6574 2e73 656e 645f 7465 7874  socket.send_text
+00001120: 2866 2259 6f75 2077 726f 7465 3a20 7b64  (f"You wrote: {d
+00001130: 6174 617d 2220 290d 0a20 2020 2020 2020  ata}" )..       
+00001140: 2020 2020 2020 2020 2066 6f72 2063 6c69           for cli
+00001150: 656e 7469 6420 696e 2077 6562 736f 636b  entid in websock
+00001160: 6574 733a 0d0a 2020 2020 2020 2020 2020  ets:..          
+00001170: 2020 2020 2020 2020 2020 6966 2063 6c69            if cli
+00001180: 656e 745f 6964 213d 636c 6965 6e74 6964  ent_id!=clientid
+00001190: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+000011a0: 2020 2020 2020 2020 2020 2061 7761 6974             await
+000011b0: 2077 6562 736f 636b 6574 735b 636c 6965   websockets[clie
+000011c0: 6e74 6964 5d2e 7365 6e64 5f74 6578 7428  ntid].send_text(
+000011d0: 6622 436c 6965 6e74 2023 7b63 6c69 656e  f"Client #{clien
+000011e0: 745f 6964 7d20 7361 7973 3a20 7b64 6174  t_id} says: {dat
+000011f0: 617d 2229 0d0a 2020 2020 2020 2020 2020  a}")..          
+00001200: 2020 2020 2020 200d 0a20 2020 2020 2020         ..       
+00001210: 2065 7863 6570 7420 5765 6253 6f63 6b65   except WebSocke
+00001220: 7444 6973 636f 6e6e 6563 743a 0d0a 2020  tDisconnect:..  
+00001230: 2020 2020 2020 2020 2020 7765 6273 6f63            websoc
+00001240: 6b65 7473 2e72 656d 6f76 6528 7765 6273  kets.remove(webs
+00001250: 6f63 6b65 7429 0d0a 2020 2020 2020 2020  ocket)..        
+00001260: 2020 2020 666f 7220 636f 6e6e 6563 7469      for connecti
+00001270: 6f6e 2069 6e20 7765 6273 6f63 6b65 7473  on in websockets
+00001280: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00001290: 2020 2061 7761 6974 2063 6f6e 6e65 6374     await connect
+000012a0: 696f 6e2e 7365 6e64 5f74 6578 7428 6622  ion.send_text(f"
+000012b0: 436c 6965 6e74 2023 7b63 6c69 656e 745f  Client #{client_
+000012c0: 6964 7d20 6c65 6674 2074 6865 2063 6861  id} left the cha
+000012d0: 7422 290d 0a20 2020 2020 2020 2020 2020  t")..           
+000012e0: 2020 0d0a 6060 600d 0a0d 0a68 6f6d 652e    ..```....home.
+000012f0: 6874 6d6c 3a0d 0a0d 0a60 6060 6874 6d6c  html:....```html
+00001300: 0d0a 3c21 444f 4354 5950 4520 6874 6d6c  ..<!DOCTYPE html
+00001310: 3e0d 0a3c 6874 6d6c 3e0d 0a0d 0a3c 6865  >..<html>....<he
+00001320: 6164 3e0d 0a20 2020 203c 6d65 7461 2063  ad>..    <meta c
+00001330: 6861 7273 6574 3d22 7574 662d 3822 3e0d  harset="utf-8">.
+00001340: 0a20 2020 203c 7469 746c 653e 4661 7374  .    <title>Fast
+00001350: 4170 6920 4d56 4320 4672 616d 6577 6f72  Api MVC Framewor
+00001360: 6b3c 2f74 6974 6c65 3e0d 0a20 2020 203c  k</title>..    <
+00001370: 6c69 6e6b 2072 656c 3d22 7374 796c 6573  link rel="styles
+00001380: 6865 6574 2220 6872 6566 3d22 686f 6d65  heet" href="home
+00001390: 2e63 7373 2220 2f3e 0d0a 0d0a 3c2f 6865  .css" />....</he
+000013a0: 6164 3e0d 0a0d 0a3c 626f 6479 3e0d 0a20  ad>....<body>.. 
+000013b0: 2020 203c 6865 6164 6572 3e0d 0a20 2020     <header>..   
+000013c0: 2020 2020 203c 6831 3e48 656c 6c6f 2050       <h1>Hello P
+000013d0: 7974 686f 6e3c 2f68 313e 0d0a 2020 2020  ython</h1>..    
+000013e0: 3c2f 6865 6164 6572 3e0d 0a20 2020 203c  </header>..    <
+000013f0: 6e61 763e 0d0a 2020 2020 2020 2020 7b25  nav>..        {%
+00001400: 2066 6f72 2069 7465 6d20 696e 2072 6f75   for item in rou
+00001410: 7465 7273 5f6d 6170 2025 7d20 7b25 2069  ters_map %} {% i
+00001420: 6620 2747 4554 2720 696e 2072 6f75 7465  f 'GET' in route
+00001430: 7273 5f6d 6170 5b69 7465 6d5d 5b27 6d65  rs_map[item]['me
+00001440: 7468 6f64 7327 5d20 257d 0d0a 2020 2020  thods'] %}..    
+00001450: 2020 2020 3c61 2068 7265 663d 227b 7b72      <a href="{{r
+00001460: 6f75 7465 7273 5f6d 6170 5b69 7465 6d5d  outers_map[item]
+00001470: 5b27 7061 7468 275d 7d7d 223e 7b7b 726f  ['path']}}">{{ro
+00001480: 7574 6572 735f 6d61 705b 6974 656d 5d5b  uters_map[item][
+00001490: 2764 6f63 275d 2061 6e64 2072 6f75 7465  'doc'] and route
+000014a0: 7273 5f6d 6170 5b69 7465 6d5d 5b27 646f  rs_map[item]['do
+000014b0: 6327 5d5b 2774 6974 6c65 275d 206f 7220  c']['title'] or 
+000014c0: 6974 656d 7d7d 3c2f 613e 207b 2520 656e  item}}</a> {% en
+000014d0: 6469 6620 257d 207b 2520 656e 6466 6f72  dif %} {% endfor
+000014e0: 2025 7d0d 0a0d 0a20 2020 2020 2020 203c   %}....        <
+000014f0: 6120 6872 6566 3d22 2322 3e41 626f 7574  a href="#">About
+00001500: 3c2f 613e 0d0a 2020 2020 2020 2020 3c61  </a>..        <a
+00001510: 2068 7265 663d 2223 223e 436f 6e74 6163   href="#">Contac
+00001520: 743c 2f61 3e20 7b25 2069 6620 7265 7175  t</a> {% if requ
+00001530: 6573 742e 7365 7373 696f 6e5b 2775 7365  est.session['use
+00001540: 7227 5d20 257d 0d0a 2020 2020 2020 2020  r'] %}..        
+00001550: 3c61 2068 7265 663d 222f 7573 6572 2f6c  <a href="/user/l
+00001560: 6f67 6f75 7422 3e3c 623e 7b7b 7265 7175  ogout"><b>{{requ
+00001570: 6573 742e 7365 7373 696f 6e5b 2775 7365  est.session['use
+00001580: 7227 5d5b 2775 7365 726e 616d 6527 5d7d  r']['username']}
+00001590: 7d3c 2f62 3e20 4c6f 676f 7574 3c2f 613e  }</b> Logout</a>
+000015a0: 207b 2520 656e 6469 6620 257d 0d0a 2020   {% endif %}..  
+000015b0: 2020 3c2f 6e61 763e 0d0a 2020 2020 3c73    </nav>..    <s
+000015c0: 6563 7469 6f6e 3e0d 0a20 2020 2020 2020  ection>..       
+000015d0: 203c 6832 3e57 656c 636f 6d65 2074 6f20   <h2>Welcome to 
+000015e0: 6d79 2077 6562 7369 7465 3c2f 6832 3e0d  my website</h2>.
+000015f0: 0a20 2020 2020 2020 203c 703e 5468 6973  .        <p>This
+00001600: 2069 7320 616e 2065 7861 6d70 6c65 206f   is an example o
+00001610: 6620 6120 7265 7370 6f6e 7369 7665 2064  f a responsive d
+00001620: 6573 6967 6e20 7468 6174 2077 6f72 6b73  esign that works
+00001630: 2077 656c 6c20 6f6e 2062 6f74 6820 6465   well on both de
+00001640: 736b 746f 7020 616e 6420 6d6f 6269 6c65  sktop and mobile
+00001650: 2064 6576 6963 6573 2e3c 2f70 3e0d 0a20   devices.</p>.. 
+00001660: 2020 2020 2020 203c 703e 6865 7265 2069         <p>here i
+00001670: 7320 7468 6520 6074 6578 7460 2076 6172  s the `text` var
+00001680: 6961 626c 6520 696e 2063 6c61 7373 206d  iable in class m
+00001690: 6574 686f 643a 7b7b 7465 7874 7d7d 3c2f  ethod:{{text}}</
+000016a0: 703e 0d0a 2020 2020 2020 2020 3c70 2073  p>..        <p s
+000016b0: 7479 6c65 3d22 636f 6c6f 723a 7265 6422  tyle="color:red"
+000016c0: 3e3c 623e 7b7b 666c 6173 687d 7d3c 2f62  ><b>{{flash}}</b
+000016d0: 3e3c 2f70 3e0d 0a20 2020 203c 2f73 6563  ></p>..    </sec
+000016e0: 7469 6f6e 3e0d 0a20 2020 203c 666f 6f74  tion>..    <foot
+000016f0: 6572 3e0d 0a20 2020 2020 2020 203c 703e  er>..        <p>
+00001700: 2663 6f70 793b 2032 3032 3320 4d79 2057  &copy; 2023 My W
+00001710: 6562 7369 7465 3c2f 703e 0d0a 2020 2020  ebsite</p>..    
+00001720: 3c2f 666f 6f74 6572 3e0d 0a3c 2f62 6f64  </footer>..</bod
+00001730: 793e 0d0a 0d0a 3c2f 6874 6d6c 3e0d 0a60  y>....</html>..`
+00001740: 6060 0d0a 0d0a 796f 7572 2070 726f 6a65  ``....your proje
+00001750: 6374 2064 6972 6563 746f 7279 2073 7472  ct directory str
+00001760: 7563 7472 7565 206c 696b 6520 7468 6973  uctrue like this
+00001770: 3a0d 0a60 6060 6469 720d 0a0d 0a5c 4150  :..```dir....\AP
+00001780: 500d 0a7c 2020 205f 5f69 6e69 745f 5f2e  P..|   __init__.
+00001790: 7079 0d0a 7c0d 0a2b 2d2d 2d63 6f6e 7472  py..|..+---contr
+000017a0: 6f6c 6c65 7273 0d0a 7c20 2020 7c20 2020  ollers..|   |   
+000017b0: 7465 7374 5f63 6f6e 7472 6f6c 6c65 722e  test_controller.
+000017c0: 7079 0d0a 7c20 2020 7c20 2020 5f5f 696e  py..|   |   __in
+000017d0: 6974 5f5f 2e70 790d 0a7c 2020 207c 0d0a  it__.py..|   |..
+000017e0: 2b2d 2d2d 6d6f 6465 6c73 0d0a 7c20 2020  +---models..|   
+000017f0: 7c20 2020 6d6f 6465 6c73 2e70 790d 0a7c  |   models.py..|
+00001800: 2020 207c 2020 205f 5f69 6e69 745f 5f2e     |   __init__.
+00001810: 7079 0d0a 7c20 2020 7c0d 0a2b 2d2d 2d73  py..|   |..+---s
+00001820: 6572 7669 6365 730d 0a7c 2020 207c 2020  ervices..|   |  
+00001830: 2075 7365 725f 7365 7276 6963 652e 7079   user_service.py
+00001840: 0d0a 7c20 2020 7c20 2020 5f5f 696e 6974  ..|   |   __init
+00001850: 5f5f 2e70 790d 0a7c 2020 207c 0d0a 2b2d  __.py..|   |..+-
+00001860: 2d2d 7465 7374 730d 0a7c 2020 207c 2020  --tests..|   |  
+00001870: 2074 6573 745f 7465 7374 2e70 790d 0a7c   test_test.py..|
+00001880: 2020 207c 0d0a 2b2d 2d2d 7669 6577 730d     |..+---views.
+00001890: 0a7c 2020 202b 2d2d 2d61 6263 0d0a 7c20  .|   +---abc..| 
+000018a0: 2020 7c20 2020 5c2d 2d2d 322e 300d 0a7c    |   \---2.0..|
+000018b0: 2020 207c 2020 2020 2020 2020 2020 2063     |           c
+000018c0: 7373 2e63 7373 0d0a 7c20 2020 7c20 2020  ss.css..|   |   
+000018d0: 2020 2020 2020 2020 686f 6d65 2e68 746d          home.htm
+000018e0: 6c0d 0a7c 2020 207c 0d0a 7c20 2020 2b2d  l..|   |..|   +-
+000018f0: 2d2d 7465 7374 0d0a 7c20 2020 7c20 2020  --test..|   |   
+00001900: 2020 2020 6368 6174 6770 742e 6373 730d      chatgpt.css.
+00001910: 0a7c 2020 207c 2020 2020 2020 2063 6861  .|   |       cha
+00001920: 7467 7074 2e68 746d 6c0d 0a7c 2020 207c  tgpt.html..|   |
+00001930: 2020 2020 2020 2063 6861 7467 7074 2e6a         chatgpt.j
+00001940: 730d 0a7c 2020 207c 2020 2020 2020 2068  s..|   |       h
+00001950: 6f6d 652e 6874 6d6c 0d0a 7c20 2020 7c20  ome.html..|   | 
+00001960: 2020 2020 2020 686f 6d65 2e6a 730d 0a7c        home.js..|
+00001970: 2020 207c 2020 2020 2020 206c 6f67 696e     |       login
+00001980: 2e68 746d 6c0d 0a7c 2020 207c 0d0a 7c20  .html..|   |..| 
+00001990: 2020 5c2d 2d2d 7773 0d0a 7c20 2020 2020    \---ws..|     
+000019a0: 2020 2020 2020 7773 5f68 6f6d 652e 6874        ws_home.ht
+000019b0: 6d6c 0d0a 7c0d 0a0d 0a0d 0a60 6060 0d0a  ml..|......```..
```

### Comparing `fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/_utils.py` & `fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/_utils.py`

 * *Files identical despite different names*

### Comparing `fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/auth.py` & `fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/auth.py`

 * *Files identical despite different names*

### Comparing `fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/base_controller.py` & `fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/base_controller.py`

 * *Files identical despite different names*

### Comparing `fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/cbv.py` & `fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/cbv.py`

 * *Files identical despite different names*

### Comparing `fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/config.py` & `fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/config.py`

 * *Files identical despite different names*

### Comparing `fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/controller.py` & `fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/controller.py`

 * *Files identical despite different names*

### Comparing `fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/controller_utils.py` & `fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/controller_utils.py`

 * *Files identical despite different names*

### Comparing `fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/core.py` & `fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/core.py`

 * *Files 6% similar despite different names*

```diff
@@ -26,14 +26,15 @@
 
 class MvcApp(FastAPI):
     def __init__(self,  **kwargs):
         self._authObj:auth.AuthenticationBackend_ = None 
         self._data_engine:database.Engine = None
         self._user_auth_url=""
         self._public_auth_url=""
+        self._app_views_dirs = {} 
         super().__init__(**kwargs)
     @property
     def authObj(self)->auth.AuthenticationBackend_:
         return self._authObj
     
     @authObj.setter
     def authObj(self,value:auth.AuthenticationBackend_):
@@ -44,15 +45,14 @@
         return self._data_engine
     @data_engine.setter
     def data_engine(self,value):
         self._data_engine = value
 
 __app = MvcApp( ) 
 
-__app_views_dirs = {} 
 __all_controller__ = []
 
 application = __app
 api.init(application)
 
 def __init_database(): 
     db_cfg = config.get("database")
@@ -81,15 +81,15 @@
 
 def api_router(path:str="", version:str="",**allargs):  
     '''
     :param path :special path format ,ex. '/{controller}/{version}'
     :param version :str like 'v1.0' ,'2.0'..
     '''
     if not 'auth' in allargs:
-        allargs['auth'] = 'public'
+        allargs['auth'] = 'none'
 
     caller_frame = inspect.currentframe().f_back
     caller_file = caller_frame.f_code.co_filename
     relative_path = caller_file.replace(ROOT_PATH,"")
     if relative_path.count(os.sep)>2:
         app_dir = os.path.dirname(os.path.dirname(relative_path)).replace(os.sep,"")
     else:
@@ -100,14 +100,16 @@
         if p and  '{controller}' not in p :
             p += '/{controller}' 
             p += '/{version}' if v else ''
         if v and not path:
             p = "/{controller}/{version}"
         return p
     path = format_path(path,version) 
+     
+    abs_path = app_dir
     _controllerBase = create_controller(path,version)  
         
     __all_controller__.append(_controllerBase)
     
     def _wapper(targetController):  
         
         class puppetController( targetController ,_controllerBase ): 
@@ -187,32 +189,41 @@
                         return RedirectResponse('/',status_code=StateCodes.HTTP_303_SEE_OTHER),None
                 else:
                     _log.debug(f'Successed Auth[type:{auth_type}] Url:'+str(request.url)+',User:'+str(user))
                     return ret,user
 
         setattr(puppetController,AUTH_KEY,allargs['auth'])         
         setattr(puppetController,"__name__",targetController.__name__)  
-        setattr(puppetController,"__controller_name__",targetController.__name__.lower().replace("controller",""))  
+        controller_name = targetController.__name__.lower().replace("controller","")
+        setattr(puppetController,"__controller_name__",controller_name)  
         
         setattr(puppetController,"__version__",version)  
         setattr(puppetController,"__location__",relative_path)  
         setattr(puppetController,"__appdir__",app_dir)  
 
-        setattr(puppetController,"__controler_url__",targetController.__name__.lower().replace("controller",""))  
+        setattr(puppetController,"__controler_url__",controller_name)  
         #for generate url_for function
-        _view_url_path:str = "/" + os.path.basename(app_dir) + '_views'  
-         
+        url_path = path
+        # if "" == url_path:
+        #     url_path = "/{controller}"
+        #     if version:
+        #         url_path += "/{version}"
+        _view_url_path:str = url_path.replace("{controller}",controller_name).replace("{version}",version) # "/" + os.path.basename(app_dir) + '_views'  
+        
+        controller_current_view_path = abs_path + '/views/' + controller_name # app_dir.replace(ROOT_PATH,'').replace("\\",'/') + '/views/' + controller_name 
+        if version:
+            controller_current_view_path += '/' + version
         setattr(puppetController,"__view_url__",_view_url_path) 
 
         #add app dir sub views to StaticFiles
-        if not app_dir in __app_views_dirs: #ensure  load it once
-            __app_views_dirs[app_dir] = os.path.join(app_dir,"views")
+        if not controller_current_view_path in application._app_views_dirs: #ensure  load it once
+            application._app_views_dirs[controller_current_view_path] = _view_url_path#os.path.join(app_dir,"views")
             #path match static files
-            _static_path = _view_url_path              
-            __app.mount(_static_path,  StaticFiles(directory=__app_views_dirs[app_dir]), name=os.path.basename(app_dir))
+            
+            
  
         return puppetController 
     return _wapper #: @puppetController 
 
 
 def get_wrapped_endpoint(func):
     ret = func
```

### Comparing `fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/database.py` & `fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/database.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,11 +1,12 @@
 from sqlalchemy import create_engine,Engine,MetaData, Table, Column, ForeignKey,select,join,TableClause
 from sqlalchemy.orm import DeclarativeBase,Session
 from sqlalchemy import text,TextClause
 from sqlalchemy.ext.automap import automap_base
+
 from ._utils import camelize_classname,pluralize_collection
  
 from alembic import command
 from alembic.config import Config
 import configparser
 import re,os
 from typing import Union
```

### Comparing `fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/midware_casbin.py` & `fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/midware_casbin.py`

 * *Files identical despite different names*

### Comparing `fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/midware_session.py` & `fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/midware_session.py`

 * *Files identical despite different names*

### Comparing `fastapi_mvc_framework-1.2.0/fastapi_mvc_framework/view.py` & `fastapi_mvc_framework-1.2.3/fastapi_mvc_framework/view.py`

 * *Files identical despite different names*

### Comparing `fastapi_mvc_framework-1.2.0/fastapi_mvc_framework.egg-info/PKG-INFO` & `fastapi_mvc_framework-1.2.3/PKG-INFO`

 * *Files 22% similar despite different names*

```diff
@@ -1,12 +1,12 @@
 00000000: 4d65 7461 6461 7461 2d56 6572 7369 6f6e  Metadata-Version
 00000010: 3a20 322e 310d 0a4e 616d 653a 2066 6173  : 2.1..Name: fas
-00000020: 7461 7069 2d6d 7663 2d66 7261 6d65 776f  tapi-mvc-framewo
+00000020: 7461 7069 5f6d 7663 5f66 7261 6d65 776f  tapi_mvc_framewo
 00000030: 726b 0d0a 5665 7273 696f 6e3a 2031 2e32  rk..Version: 1.2
-00000040: 2e30 0d0a 5375 6d6d 6172 793a 2053 696d  .0..Summary: Sim
+00000040: 2e33 0d0a 5375 6d6d 6172 793a 2053 696d  .3..Summary: Sim
 00000050: 706c 6520 616e 6420 656c 6567 616e 7420  ple and elegant 
 00000060: 7573 6520 6f66 2046 6173 7441 7069 2069  use of FastApi i
 00000070: 6e20 4d56 4320 6d6f 6465 0d0a 486f 6d65  n MVC mode..Home
 00000080: 2d70 6167 653a 2068 7474 7073 3a2f 2f67  -page: https://g
 00000090: 6974 6875 622e 636f 6d2f 736d 6a6b 7a73  ithub.com/smjkzs
 000000a0: 6c2f 6661 7374 6170 695f 6672 616d 6577  l/fastapi_framew
 000000b0: 6f72 6b0d 0a41 7574 686f 723a 2042 7275  ork..Author: Bru
@@ -37,322 +37,376 @@
 00000240: 203a 3a20 332e 380d 0a43 6c61 7373 6966   :: 3.8..Classif
 00000250: 6965 723a 2050 726f 6772 616d 6d69 6e67  ier: Programming
 00000260: 204c 616e 6775 6167 6520 3a3a 2050 7974   Language :: Pyt
 00000270: 686f 6e20 3a3a 2033 2e39 0d0a 436c 6173  hon :: 3.9..Clas
 00000280: 7369 6669 6572 3a20 5072 6f67 7261 6d6d  sifier: Programm
 00000290: 696e 6720 4c61 6e67 7561 6765 203a 3a20  ing Language :: 
 000002a0: 5079 7468 6f6e 203a 3a20 332e 3130 0d0a  Python :: 3.10..
-000002b0: 5265 7175 6972 6573 2d50 7974 686f 6e3a  Requires-Python:
-000002c0: 203e 3d33 2e36 0d0a 4465 7363 7269 7074   >=3.6..Descript
-000002d0: 696f 6e2d 436f 6e74 656e 742d 5479 7065  ion-Content-Type
-000002e0: 3a20 7465 7874 2f6d 6172 6b64 6f77 6e0d  : text/markdown.
-000002f0: 0a0d 0a23 2066 6173 7461 7069 5f66 7261  ...# fastapi_fra
-00000300: 6d65 776f 726b 0d0a 4120 6d76 6320 6672  mework..A mvc fr
-00000310: 616d 6577 6f72 6b20 7573 6564 2046 6173  amework used Fas
-00000320: 7441 7069 0d0a 5369 6d70 6c65 2061 6e64  tApi..Simple and
-00000330: 2065 6c65 6761 6e74 2075 7365 206f 6620   elegant use of 
-00000340: 4661 7374 4170 6920 696e 204d 5643 206d  FastApi in MVC m
-00000350: 6f64 650d 0a0d 0a23 2320 7573 6167 653a  ode....## usage:
-00000360: 0d0a 696e 7374 616c 6c3a 0d0a 6060 6062  ..install:..```b
-00000370: 6173 680d 0a70 6970 2069 6e73 7461 6c6c  ash..pip install
-00000380: 2066 6173 7461 7069 2d6d 7663 2d66 7261   fastapi-mvc-fra
-00000390: 6d65 776f 726b 0d0a 6060 600d 0a0d 0a63  mework..```....c
-000003a0: 6f6e 7472 6f6c 6c65 723a 0d0a 6060 6070  ontroller:..```p
-000003b0: 7974 686f 6e0d 0a66 726f 6d20 6661 7374  ython..from fast
-000003c0: 6170 695f 6d76 635f 6672 616d 6577 6f72  api_mvc_framewor
-000003d0: 6b20 696d 706f 7274 2061 7069 5f72 6f75  k import api_rou
-000003e0: 7465 722c 6170 692c 5265 7175 6573 742c  ter,api,Request,
-000003f0: 5265 7370 6f6e 7365 2c42 6173 6543 6f6e  Response,BaseCon
-00000400: 7472 6f6c 6c65 722c 6170 706c 6963 6174  troller,applicat
-00000410: 696f 6e2c 5765 6253 6f63 6b65 742c 5765  ion,WebSocket,We
-00000420: 6253 6f63 6b65 7444 6973 636f 6e6e 6563  bSocketDisconnec
-00000430: 740d 0a66 726f 6d20 7479 7069 6e67 2069  t..from typing i
-00000440: 6d70 6f72 7420 4469 6374 200d 0a66 726f  mport Dict ..fro
-00000450: 6d20 6170 702e 7365 7276 6963 6573 2069  m app.services i
-00000460: 6d70 6f72 7420 5573 6572 5365 7276 6963  mport UserServic
-00000470: 650d 0a0d 0a61 7070 6c69 6361 7469 6f6e  e....application
-00000480: 2e5f 7075 626c 6963 5f61 7574 685f 7572  ._public_auth_ur
-00000490: 6c20 3d20 272f 7573 6572 2f6c 6f67 696e  l = '/user/login
-000004a0: 270d 0a61 7070 6c69 6361 7469 6f6e 2e5f  '..application._
-000004b0: 7573 6572 5f61 7574 685f 7572 6c20 3d20  user_auth_url = 
-000004c0: 272f 7573 6572 2f6c 6f67 696e 270d 0a0d  '/user/login'...
-000004d0: 0a40 6170 695f 726f 7574 6572 2861 7574  .@api_router(aut
-000004e0: 683d 2770 7562 6c69 6327 290d 0a63 6c61  h='public')..cla
-000004f0: 7373 2054 6573 7443 6f6e 7472 6f6c 6c65  ss TestControlle
-00000500: 7228 4261 7365 436f 6e74 726f 6c6c 6572  r(BaseController
-00000510: 293a 200d 0a20 2020 2040 6170 692e 6765  ): ..    @api.ge
-00000520: 7428 222f 7573 6572 2f6c 6f67 696e 2229  t("/user/login")
-00000530: 0d0a 2020 2020 6465 6620 6c6f 6769 6e28  ..    def login(
-00000540: 7365 6c66 293a 0d0a 2020 2020 2020 2020  self):..        
-00000550: 2222 223a 7469 746c 6520 4c6f 6769 6e22  """:title Login"
-00000560: 2222 2020 0d0a 2020 2020 2020 2020 7265  ""  ..        re
-00000570: 6469 7265 6374 203d 2073 656c 662e 7061  direct = self.pa
-00000580: 7261 6d73 5b27 7265 6469 7265 6374 275d  rams['redirect']
-00000590: 2069 6620 2772 6564 6972 6563 7427 2069   if 'redirect' i
-000005a0: 6e20 7365 6c66 2e70 6172 616d 7320 656c  n self.params el
-000005b0: 7365 2027 2f27 200d 0a20 2020 2020 2020  se '/' ..       
-000005c0: 2072 6574 7572 6e20 7365 6c66 2e76 6965   return self.vie
-000005d0: 7728 2920 0d0a 2020 2020 0d0a 2020 2020  w() ..    ..    
-000005e0: 4061 7069 2e67 6574 2822 2f75 7365 722f  @api.get("/user/
-000005f0: 6c6f 676f 7574 2229 0d0a 2020 2020 6465  logout")..    de
-00000600: 6620 6c6f 676f 7574 2873 656c 6629 3a0d  f logout(self):.
-00000610: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00000620: 7365 6c66 2e5f 7573 6572 5f6c 6f67 6f75  self._user_logou
-00000630: 7428 290d 0a20 2020 200d 0a20 2020 2040  t()..    ..    @
-00000640: 6170 692e 706f 7374 2822 2f74 6573 742f  api.post("/test/
-00000650: 7665 7269 7479 5f75 7365 7222 290d 0a20  verity_user").. 
-00000660: 2020 2061 7379 6e63 2064 6566 2076 6572     async def ver
-00000670: 6974 795f 7573 6572 2873 656c 6629 3a20  ity_user(self): 
-00000680: 0d0a 2020 2020 2020 2020 666f 726d 203d  ..        form =
-00000690: 2073 656c 662e 7061 7261 6d73 0d0a 2020   self.params..  
-000006a0: 2020 2020 2020 7573 6572 6e61 6d65 203d        username =
-000006b0: 2066 6f72 6d5b 2775 7365 726e 616d 6527   form['username'
-000006c0: 5d0d 0a20 2020 2020 2020 2070 6173 7377  ]..        passw
-000006d0: 6f72 6420 3d20 666f 726d 5b27 7061 7373  ord = form['pass
-000006e0: 776f 7264 275d 0d0a 2020 2020 2020 2020  word']..        
-000006f0: 7265 6469 7265 6374 203d 2066 6f72 6d5b  redirect = form[
-00000700: 2772 6564 6972 6563 7427 5d0d 0a20 2020  'redirect']..   
-00000710: 2020 2020 2069 6620 7573 6572 6e61 6d65       if username
-00000720: 2061 6e64 2070 6173 7377 6f72 643a 0d0a   and password:..
-00000730: 2020 2020 2020 2020 2020 2020 2364 6f20              #do 
-00000740: 7665 7269 7469 6564 0d0a 2020 2020 2020  veritied..      
-00000750: 2020 2020 2020 6966 2075 7365 726e 616d        if usernam
-00000760: 6520 696e 205b 2762 7275 6365 272c 2761  e in ['bruce','a
-00000770: 6c69 6365 275d 2061 6e64 2070 6173 7377  lice'] and passw
-00000780: 6f72 643a 0d0a 2020 2020 2020 2020 2020  ord:..          
-00000790: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-000007a0: 662e 5f76 6572 6974 795f 7375 6363 6573  f._verity_succes
-000007b0: 7365 6428 7573 6572 6e61 6d65 2c72 6564  sed(username,red
-000007c0: 6972 6563 7429 0d0a 2020 2020 2020 2020  irect)..        
-000007d0: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
-000007e0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-000007f0: 6e20 7365 6c66 2e5f 7665 7269 7479 5f65  n self._verity_e
-00000800: 7272 6f72 2829 200d 0a20 2020 2020 2020  rror() ..       
-00000810: 2072 6574 7572 6e20 7365 6c66 2e5f 7665   return self._ve
-00000820: 7269 7479 5f65 7272 6f72 2829 0d0a 2020  rity_error()..  
-00000830: 2020 0d0a 2020 2020 4061 7069 2e67 6574    ..    @api.get
-00000840: 2822 2f22 2029 0d0a 2020 2020 6465 6620  ("/" )..    def 
-00000850: 686f 6d65 2873 656c 662c 7265 7175 6573  home(self,reques
-00000860: 743a 5265 7175 6573 7429 3a20 0d0a 2020  t:Request): ..  
-00000870: 2020 2020 2020 2727 270d 0a20 2020 2020        '''..     
-00000880: 2020 203a 7469 746c 6520 486f 6d65 0d0a     :title Home..
-00000890: 2020 2020 2020 2020 2727 270d 0a20 2020          '''..   
-000008a0: 2020 2020 2063 203d 2073 656c 662e 7365       c = self.se
-000008b0: 7373 696f 6e2e 6765 7428 2768 6f6d 6527  ssion.get('home'
-000008c0: 2c31 290d 0a20 2020 2020 2020 2063 203d  ,1)..        c =
-000008d0: 2063 2b31 2020 0d0a 2020 2020 2020 2020   c+1  ..        
-000008e0: 7365 6c66 2e63 6f6f 6b69 6573 5b22 6122  self.cookies["a"
-000008f0: 5d20 3d20 630d 0a20 2020 2020 2020 2069  ] = c..        i
-00000900: 6620 633e 3130 3a0d 0a20 2020 2020 2020  f c>10:..       
-00000910: 2020 2020 2064 656c 2073 656c 662e 636f       del self.co
-00000920: 6f6b 6965 735b 2261 225d 0d0a 2020 2020  okies["a"]..    
-00000930: 2020 2020 2020 2020 6320 3d20 300d 0a20          c = 0.. 
-00000940: 2020 2020 2020 2073 656c 662e 7365 7373         self.sess
-00000950: 696f 6e5b 2768 6f6d 6527 5d20 3d20 630d  ion['home'] = c.
-00000960: 0a20 2020 2020 2020 2074 6578 7420 3d20  .        text = 
-00000970: 2248 656c 6c6f 2057 6f72 6c64 2120 4927  "Hello World! I'
-00000980: 6d20 696e 2046 6173 7461 7069 4d76 6346  m in FastapiMvcF
-00000990: 7261 6d65 776f 726b 220d 0a20 2020 2020  ramework"..     
-000009a0: 2020 2072 6f75 7465 7273 5f6d 6170 203d     routers_map =
-000009b0: 2061 7070 6c69 6361 7469 6f6e 2e72 6f75   application.rou
-000009c0: 7465 7273 5f6d 6170 0d0a 2020 2020 2020  ters_map..      
-000009d0: 2020 726f 7574 6572 7320 3d20 6170 706c    routers = appl
-000009e0: 6963 6174 696f 6e2e 726f 7574 6573 200d  ication.routes .
-000009f0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00000a00: 7365 6c66 2e76 6965 7728 290d 0a20 2020  self.view()..   
-00000a10: 200d 0a20 2020 2040 6170 692e 6765 7428   ..    @api.get(
-00000a20: 222f 786d 6c22 2c61 7574 683d 2775 7365  "/xml",auth='use
-00000a30: 7227 290d 0a20 2020 2064 6566 2067 6574  r')..    def get
-00000a40: 5f6c 6567 6163 795f 6461 7461 2873 656c  _legacy_data(sel
-00000a50: 6629 3a0d 0a20 2020 2020 2020 2022 2222  f):..        """
-00000a60: 3a74 6974 6c65 2058 4d4c 2850 726f 7465  :title XML(Prote
-00000a70: 6374 6564 2922 2222 0d0a 0d0a 2020 2020  cted)"""....    
-00000a80: 2020 2020 6461 7461 203d 2022 2222 3c3f      data = """<?
-00000a90: 786d 6c20 7665 7273 696f 6e3d 2231 2e30  xml version="1.0
-00000aa0: 223f 3e0d 0a20 2020 2020 2020 203c 7368  "?>..        <sh
-00000ab0: 616d 706f 6f3e 0d0a 2020 2020 2020 2020  ampoo>..        
-00000ac0: 3c48 6561 6465 723e 0d0a 2020 2020 2020  <Header>..      
-00000ad0: 2020 2020 2020 4170 706c 7920 7368 616d        Apply sham
-00000ae0: 706f 6f20 6865 7265 2e0d 0a20 2020 2020  poo here...     
-00000af0: 2020 203c 2f48 6561 6465 723e 0d0a 2020     </Header>..  
-00000b00: 2020 2020 2020 3c42 6f64 793e 0d0a 2020        <Body>..  
-00000b10: 2020 2020 2020 2020 2020 596f 7527 6c6c            You'll
-00000b20: 2068 6176 6520 746f 2075 7365 2073 6f61   have to use soa
-00000b30: 7020 6865 7265 2e0d 0a20 2020 2020 2020  p here...       
-00000b40: 203c 2f42 6f64 793e 0d0a 2020 2020 2020   </Body>..      
-00000b50: 2020 3c2f 7368 616d 706f 6f3e 0d0a 2020    </shampoo>..  
-00000b60: 2020 2020 2020 2222 220d 0a20 2020 2020        """..     
-00000b70: 2020 2072 6574 7572 6e20 7365 6c66 2e76     return self.v
-00000b80: 6965 7728 636f 6e74 656e 743d 6461 7461  iew(content=data
-00000b90: 2c6d 6564 6961 5f74 7970 653d 2261 7070  ,media_type="app
-00000ba0: 6c69 6361 7469 6f6e 2f78 6d6c 2229 0d0a  lication/xml")..
-00000bb0: 2020 2020 2020 2020 2020 0d0a 2020 2020            ..    
-00000bc0: 4061 7069 2e67 6574 2822 2f63 6861 7467  @api.get("/chatg
-00000bd0: 7074 2229 0d0a 2020 2020 6465 6620 6368  pt")..    def ch
-00000be0: 6174 6770 7428 7365 6c66 293a 0d0a 2020  atgpt(self):..  
-00000bf0: 2020 2020 2020 2222 220d 0a20 2020 2020        """..     
-00000c00: 2020 203a 7469 746c 6520 4368 6174 0d0a     :title Chat..
-00000c10: 2020 2020 2020 2020 2222 220d 0a20 2020          """..   
-00000c20: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00000c30: 2e76 6965 7728 290d 0a0d 0a0d 0a60 6060  .view()......```
-00000c40: 0d0a 0d0a 686f 6d65 2e68 746d 6c3a 0d0a  ....home.html:..
-00000c50: 0d0a 6060 6068 746d 6c0d 0a3c 626f 6479  ..```html..<body
-00000c60: 3e0d 0a20 2020 203c 6865 6164 6572 3e0d  >..    <header>.
-00000c70: 0a20 2020 2020 2020 203c 6831 3e4d 7920  .        <h1>My 
-00000c80: 5765 6273 6974 653c 2f68 313e 0d0a 2020  Website</h1>..  
-00000c90: 2020 3c2f 6865 6164 6572 3e0d 0a20 2020    </header>..   
-00000ca0: 203c 6e61 763e 0d0a 2020 2020 2020 2020   <nav>..        
-00000cb0: 7b25 2066 6f72 2069 7465 6d20 696e 2072  {% for item in r
-00000cc0: 6f75 7465 7273 5f6d 6170 2025 7d20 7b25  outers_map %} {%
-00000cd0: 2069 6620 2747 4554 2720 696e 2072 6f75   if 'GET' in rou
-00000ce0: 7465 7273 5f6d 6170 5b69 7465 6d5d 5b27  ters_map[item]['
-00000cf0: 6d65 7468 6f64 7327 5d20 257d 0d0a 2020  methods'] %}..  
-00000d00: 2020 2020 2020 3c61 2068 7265 663d 227b        <a href="{
-00000d10: 7b72 6f75 7465 7273 5f6d 6170 5b69 7465  {routers_map[ite
-00000d20: 6d5d 5b27 7061 7468 275d 7d7d 223e 7b7b  m]['path']}}">{{
-00000d30: 726f 7574 6572 735f 6d61 705b 6974 656d  routers_map[item
-00000d40: 5d5b 2764 6f63 275d 2061 6e64 2072 6f75  ]['doc'] and rou
-00000d50: 7465 7273 5f6d 6170 5b69 7465 6d5d 5b27  ters_map[item]['
-00000d60: 646f 6327 5d5b 2774 6974 6c65 275d 206f  doc']['title'] o
-00000d70: 7220 6974 656d 7d7d 3c2f 613e 207b 2520  r item}}</a> {% 
-00000d80: 656e 6469 6620 257d 207b 2520 656e 6466  endif %} {% endf
-00000d90: 6f72 2025 7d0d 0a0d 0a20 2020 2020 2020  or %}....       
-00000da0: 203c 6120 6872 6566 3d22 2322 3e41 626f   <a href="#">Abo
-00000db0: 7574 3c2f 613e 0d0a 2020 2020 2020 2020  ut</a>..        
-00000dc0: 3c61 2068 7265 663d 2223 223e 436f 6e74  <a href="#">Cont
-00000dd0: 6163 743c 2f61 3e20 7b25 2069 6620 7265  act</a> {% if re
-00000de0: 7175 6573 742e 7365 7373 696f 6e5b 2775  quest.session['u
-00000df0: 7365 7227 5d20 257d 0d0a 2020 2020 2020  ser'] %}..      
-00000e00: 2020 3c61 2068 7265 663d 222f 7573 6572    <a href="/user
-00000e10: 2f6c 6f67 6f75 7422 3e3c 623e 7b7b 7265  /logout"><b>{{re
-00000e20: 7175 6573 742e 7365 7373 696f 6e5b 2775  quest.session['u
-00000e30: 7365 7227 5d5b 2775 7365 726e 616d 6527  ser']['username'
-00000e40: 5d7d 7d3c 2f62 3e20 4c6f 676f 7574 3c2f  ]}}</b> Logout</
-00000e50: 613e 207b 2520 656e 6469 6620 257d 0d0a  a> {% endif %}..
-00000e60: 2020 2020 3c2f 6e61 763e 0d0a 2020 2020      </nav>..    
-00000e70: 3c73 6563 7469 6f6e 3e0d 0a20 2020 2020  <section>..     
-00000e80: 2020 203c 6832 3e57 656c 636f 6d65 2074     <h2>Welcome t
-00000e90: 6f20 6d79 2077 6562 7369 7465 3c2f 6832  o my website</h2
-00000ea0: 3e0d 0a20 2020 2020 2020 203c 703e 5468  >..        <p>Th
-00000eb0: 6973 2069 7320 616e 2065 7861 6d70 6c65  is is an example
-00000ec0: 206f 6620 6120 7265 7370 6f6e 7369 7665   of a responsive
-00000ed0: 2064 6573 6967 6e20 7468 6174 2077 6f72   design that wor
-00000ee0: 6b73 2077 656c 6c20 6f6e 2062 6f74 6820  ks well on both 
-00000ef0: 6465 736b 746f 7020 616e 6420 6d6f 6269  desktop and mobi
-00000f00: 6c65 2064 6576 6963 6573 2e3c 2f70 3e0d  le devices.</p>.
-00000f10: 0a20 2020 2020 2020 203c 703e 6865 7265  .        <p>here
-00000f20: 2069 7320 7468 6520 6074 6578 7460 2076   is the `text` v
-00000f30: 6172 6961 626c 6520 696e 2063 6c61 7373  ariable in class
-00000f40: 206d 6574 686f 643a 7b7b 7465 7874 7d7d   method:{{text}}
-00000f50: 3c2f 703e 0d0a 2020 2020 2020 2020 3c70  </p>..        <p
-00000f60: 2073 7479 6c65 3d22 636f 6c6f 723a 7265   style="color:re
-00000f70: 6422 3e3c 623e 7b7b 666c 6173 687d 7d3c  d"><b>{{flash}}<
-00000f80: 2f62 3e3c 2f70 3e0d 0a20 2020 203c 2f73  /b></p>..    </s
-00000f90: 6563 7469 6f6e 3e0d 0a20 2020 203c 666f  ection>..    <fo
-00000fa0: 6f74 6572 3e0d 0a20 2020 2020 2020 203c  oter>..        <
-00000fb0: 703e 2663 6f70 793b 2032 3032 3320 4d79  p>&copy; 2023 My
-00000fc0: 2057 6562 7369 7465 3c2f 703e 0d0a 2020   Website</p>..  
-00000fd0: 2020 3c2f 666f 6f74 6572 3e0d 0a3c 2f62    </footer>..</b
-00000fe0: 6f64 793e 0d0a 6060 600d 0a0d 0a79 6f75  ody>..```....you
-00000ff0: 7220 7072 6f6a 6563 7420 6469 7265 6374  r project direct
-00001000: 6f72 7920 7374 7275 6374 7275 6520 6c69  ory structrue li
-00001010: 6b65 2074 6869 733a 0d0a 6060 600d 0a2b  ke this:..```..+
-00001020: 2d2d 2d61 7070 0d0a 7c20 2020 7c20 2020  ---app..|   |   
-00001030: 5f5f 696e 6974 5f5f 2e70 790d 0a7c 2020  __init__.py..|  
-00001040: 207c 0d0a 7c20 2020 2b2d 2d2d 636f 6e74   |..|   +---cont
-00001050: 726f 6c6c 6572 730d 0a7c 2020 207c 2020  rollers..|   |  
-00001060: 207c 2020 2074 6573 745f 636f 6e74 726f   |   test_contro
-00001070: 6c6c 6572 2e70 790d 0a7c 2020 207c 2020  ller.py..|   |  
-00001080: 207c 2020 205f 5f69 6e69 745f 5f2e 7079   |   __init__.py
-00001090: 0d0a 7c20 2020 7c20 2020 7c0d 0a7c 2020  ..|   |   |..|  
-000010a0: 202b 2d2d 2d6d 6f64 656c 730d 0a7c 2020   +---models..|  
-000010b0: 207c 2020 207c 2020 2075 7365 725f 6d6f   |   |   user_mo
-000010c0: 6465 6c2e 7079 0d0a 7c20 2020 7c20 2020  del.py..|   |   
-000010d0: 7c20 2020 5f5f 696e 6974 5f5f 2e70 790d  |   __init__.py.
-000010e0: 0a7c 2020 207c 2020 207c 0d0a 7c20 2020  .|   |   |..|   
-000010f0: 2b2d 2d2d 7365 7276 6963 6573 0d0a 7c20  +---services..| 
-00001100: 2020 7c20 2020 7c20 2020 7573 6572 5f73    |   |   user_s
-00001110: 6572 7669 6365 2e70 790d 0a7c 2020 207c  ervice.py..|   |
-00001120: 2020 207c 2020 205f 5f69 6e69 745f 5f2e     |   __init__.
-00001130: 7079 0d0a 7c20 2020 7c20 2020 7c0d 0a7c  py..|   |   |..|
-00001140: 2020 202b 2d2d 2d76 6965 7773 0d0a 7c20     +---views..| 
-00001150: 2020 7c20 2020 2b2d 2d2d 6162 630d 0a7c    |   +---abc..|
-00001160: 2020 207c 2020 207c 2020 205c 2d2d 2d32     |   |   \---2
-00001170: 2e30 0d0a 7c20 2020 7c20 2020 7c20 2020  .0..|   |   |   
-00001180: 2020 2020 2020 2020 6373 732e 6373 730d          css.css.
-00001190: 0a7c 2020 207c 2020 207c 2020 2020 2020  .|   |   |      
-000011a0: 2020 2020 2068 6f6d 652e 6874 6d6c 0d0a       home.html..
-000011b0: 7c20 2020 7c20 2020 7c0d 0a7c 2020 207c  |   |   |..|   |
-000011c0: 2020 202b 2d2d 2d74 6573 740d 0a7c 2020     +---test..|  
-000011d0: 207c 2020 207c 2020 2020 2020 2063 6861   |   |       cha
-000011e0: 7467 7074 2e63 7373 0d0a 7c20 2020 7c20  tgpt.css..|   | 
-000011f0: 2020 7c20 2020 2020 2020 6368 6174 6770    |       chatgp
-00001200: 742e 6874 6d6c 0d0a 7c20 2020 7c20 2020  t.html..|   |   
-00001210: 7c20 2020 2020 2020 6368 6174 6770 742e  |       chatgpt.
-00001220: 6a73 0d0a 7c20 2020 7c20 2020 7c20 2020  js..|   |   |   
-00001230: 2020 2020 686f 6d65 2e68 746d 6c0d 0a7c      home.html..|
-00001240: 2020 207c 2020 207c 2020 2020 2020 2068     |   |       h
-00001250: 6f6d 652e 6a73 0d0a 7c20 2020 7c20 2020  ome.js..|   |   
-00001260: 7c20 2020 2020 2020 6c6f 6769 6e2e 6874  |       login.ht
-00001270: 6d6c 0d0a 7c20 2020 7c20 2020 7c0d 0a7c  ml..|   |   |..|
-00001280: 2020 207c 2020 205c 2d2d 2d77 730d 0a7c     |   \---ws..|
-00001290: 2020 207c 2020 2020 2020 2020 2020 2077     |           w
-000012a0: 735f 686f 6d65 2e68 746d 6c0d 0a7c 2020  s_home.html..|  
-000012b0: 207c 0d0a 2b2d 2d2d 6170 7031 0d0a 7c20   |..+---app1..| 
-000012c0: 2020 7c20 2020 5f5f 696e 6974 5f5f 2e70    |   __init__.p
-000012d0: 790d 0a7c 2020 207c 0d0a 7c20 2020 2b2d  y..|   |..|   +-
-000012e0: 2d2d 636f 6e74 726f 6c6c 6572 730d 0a7c  --controllers..|
-000012f0: 2020 207c 2020 207c 2020 2074 6573 7431     |   |   test1
-00001300: 5f63 6f6e 7472 6f6c 6c65 722e 7079 0d0a  _controller.py..
-00001310: 7c20 2020 7c20 2020 7c20 2020 5f5f 696e  |   |   |   __in
-00001320: 6974 5f5f 2e70 790d 0a7c 2020 207c 2020  it__.py..|   |  
-00001330: 207c 0d0a 7c20 2020 2b2d 2d2d 7669 6577   |..|   +---view
-00001340: 730d 0a7c 2020 207c 2020 202b 2d2d 2d74  s..|   |   +---t
-00001350: 6573 7431 0d0a 7c20 2020 7c20 2020 7c20  est1..|   |   | 
-00001360: 2020 5c2d 2d2d 7631 2e30 0d0a 7c20 2020    \---v1.0..|   
-00001370: 7c20 2020 7c20 2020 2020 2020 2020 2020  |   |           
-00001380: 686f 6d65 2e63 7373 0d0a 7c20 2020 7c20  home.css..|   | 
-00001390: 2020 7c20 2020 2020 2020 2020 2020 686f    |           ho
-000013a0: 6d65 2e68 746d 6c0d 0a7c 2020 207c 2020  me.html..|   |  
-000013b0: 207c 2020 2020 2020 2020 2020 2068 6f6d   |           hom
-000013c0: 6531 2e63 7373 0d0a 7c20 2020 7c20 2020  e1.css..|   |   
-000013d0: 7c0d 0a7c 2020 207c 2020 205c 2d2d 2d74  |..|   |   \---t
-000013e0: 6573 7432 0d0a 7c0d 0a2b 2d2d 2d63 6f6e  est2..|..+---con
-000013f0: 6669 6773 0d0a 7c20 2020 2020 2020 616c  figs..|       al
-00001400: 656d 6269 632e 696e 690d 0a7c 2020 2020  embic.ini..|    
-00001410: 2020 2063 6163 6865 2e79 616d 6c0d 0a7c     cache.yaml..|
-00001420: 2020 2020 2020 2063 6173 6269 6e2d 6164         casbin-ad
-00001430: 6170 7465 722e 6373 760d 0a7c 2020 2020  apter.csv..|    
-00001440: 2020 2063 6173 6269 6e2d 6d6f 6465 6c2e     casbin-model.
-00001450: 636f 6e66 0d0a 7c20 2020 2020 2020 6461  conf..|       da
-00001460: 7461 6261 7365 2e79 616d 6c0d 0a7c 2020  tabase.yaml..|  
-00001470: 2020 2020 2067 656e 6572 616c 2e79 616d       general.yam
-00001480: 6c0d 0a7c 2020 2020 2020 2073 6573 7369  l..|       sessi
-00001490: 6f6e 2e79 616d 6c0d 0a7c 0d0a 2b2d 2d2d  on.yaml..|..+---
-000014a0: 6461 7461 0d0a 7c20 2020 2b2d 2d2d 616c  data..|   +---al
-000014b0: 656d 6269 630d 0a7c 2020 207c 2020 207c  embic..|   |   |
-000014c0: 2020 2065 6e76 2e70 790d 0a7c 2020 207c     env.py..|   |
-000014d0: 2020 207c 2020 2052 4541 444d 450d 0a7c     |   README..|
-000014e0: 2020 207c 2020 207c 2020 2073 6372 6970     |   |   scrip
-000014f0: 742e 7079 2e6d 616b 6f0d 0a7c 2020 207c  t.py.mako..|   |
-00001500: 2020 207c 0d0a 7c20 2020 7c20 2020 2b2d     |..|   |   +-
-00001510: 2d2d 7665 7273 696f 6e73 0d0a 7c20 2020  --versions..|   
-00001520: 7c20 2020 7c20 2020 7c20 2020 3064 3032  |   |   |   0d02
-00001530: 3035 6462 3562 3339 5f63 7265 6174 655f  05db5b39_create_
-00001540: 7461 626c 6573 2e70 790d 0a7c 2020 207c  tables.py..|   |
-00001550: 2020 207c 2020 207c 2020 2030 6534 6531     |   |   0e4e1
-00001560: 3565 3637 3336 375f 6175 746f 6765 6e65  5e67367_autogene
-00001570: 7261 7465 2e70 790d 0a7c 2020 207c 2020  rate.py..|   |  
-00001580: 207c 2020 207c 2020 2031 3038 6461 6431   |   |   108dad1
-00001590: 3231 3232 375f 5f6e 6577 5f75 7067 7261  21227__new_upgra
-000015a0: 6465 5f6f 7065 7261 7469 6f6e 735f 6465  de_operations_de
-000015b0: 7465 6374 6564 5f5f 6164 645f 2e70 790d  tected__add_.py.
-000015c0: 0a7c 2020 207c 2020 207c 2020 207c 2020  .|   |   |   |  
-000015d0: 2061 6337 6365 3037 3132 3662 335f 6175   ac7ce07126b3_au
-000015e0: 746f 6765 6e65 7261 7465 2e70 790d 0a7c  togenerate.py..|
-000015f0: 2020 207c 2020 207c 2020 207c 2020 2065     |   |   |   e
-00001600: 3531 3731 3165 6233 6438 345f 6175 746f  51711eb3d84_auto
-00001610: 6765 6e65 7261 7465 2e70 790d 0a7c 2020  generate.py..|  
-00001620: 207c 2020 207c 2020 207c 0d0a 7c20 2020   |   |   |..|   
-00001630: 5c2d 2d2d 6462 0d0a 7c20 2020 2020 2020  \---db..|       
-00001640: 2020 2020 7465 7374 2e64 620d 0a0d 0a60      test.db....`
-00001650: 6060 0d0a                                ``..
+000002b0: 436c 6173 7369 6669 6572 3a20 5072 6f67  Classifier: Prog
+000002c0: 7261 6d6d 696e 6720 4c61 6e67 7561 6765  ramming Language
+000002d0: 203a 3a20 5079 7468 6f6e 203a 3a20 332e   :: Python :: 3.
+000002e0: 3131 0d0a 5265 7175 6972 6573 2d50 7974  11..Requires-Pyt
+000002f0: 686f 6e3a 203e 3d33 2e36 0d0a 4465 7363  hon: >=3.6..Desc
+00000300: 7269 7074 696f 6e2d 436f 6e74 656e 742d  ription-Content-
+00000310: 5479 7065 3a20 7465 7874 2f6d 6172 6b64  Type: text/markd
+00000320: 6f77 6e0d 0a0d 0a23 2066 6173 7461 7069  own....# fastapi
+00000330: 5f66 7261 6d65 776f 726b 0d0a 4120 6d76  _framework..A mv
+00000340: 6320 6672 616d 6577 6f72 6b20 7573 6564  c framework used
+00000350: 2046 6173 7441 7069 0d0a 5369 6d70 6c65   FastApi..Simple
+00000360: 2061 6e64 2065 6c65 6761 6e74 2075 7365   and elegant use
+00000370: 206f 6620 4661 7374 4170 6920 696e 204d   of FastApi in M
+00000380: 5643 206d 6f64 650d 0a0d 0a5b 4465 6d6f  VC mode....[Demo
+00000390: 5d28 6874 7470 733a 2f2f 6672 616d 6577  ](https://framew
+000003a0: 6f72 6b2e 3272 6169 6c73 2e63 6e2f 2920  ork.2rails.cn/) 
+000003b0: 0d0a 0d0a 2323 2320 6465 706c 6f79 206f  ....### deploy o
+000003c0: 6e65 2063 6c69 636b 206f 6e20 7665 7263  ne click on verc
+000003d0: 656c 3a0d 0a5b 215b 4465 706c 6f79 2077  el:..[![Deploy w
+000003e0: 6974 6820 5665 7263 656c 5d28 6874 7470  ith Vercel](http
+000003f0: 733a 2f2f 7665 7263 656c 2e63 6f6d 2f62  s://vercel.com/b
+00000400: 7574 746f 6e29 5d28 6874 7470 733a 2f2f  utton)](https://
+00000410: 7665 7263 656c 2e63 6f6d 2f6e 6577 2f63  vercel.com/new/c
+00000420: 6c6f 6e65 3f72 6570 6f73 6974 6f72 792d  lone?repository-
+00000430: 7572 6c3d 6874 7470 7325 3341 2532 4625  url=https%3A%2F%
+00000440: 3246 6769 7468 7562 2e63 6f6d 2532 4673  2Fgithub.com%2Fs
+00000450: 6d6a 6b7a 736c 2532 4666 6173 7461 7069  mjkzsl%2Ffastapi
+00000460: 2d6d 7663 2d66 7261 6d65 776f 726b 2670  -mvc-framework&p
+00000470: 726f 6a65 6374 2d6e 616d 653d 6661 7374  roject-name=fast
+00000480: 6170 692d 6d76 632d 6672 616d 6577 6f72  api-mvc-framewor
+00000490: 6b26 7265 706f 7369 746f 7279 2d6e 616d  k&repository-nam
+000004a0: 653d 6661 7374 6170 692d 6d76 632d 6672  e=fastapi-mvc-fr
+000004b0: 616d 6577 6f72 6b29 0d0a 0d0a 2323 2075  amework)....## u
+000004c0: 7361 6765 3a0d 0a69 6e73 7461 6c6c 3a0d  sage:..install:.
+000004d0: 0a60 6060 7368 0d0a 7069 7020 696e 7374  .```sh..pip inst
+000004e0: 616c 6c20 6661 7374 6170 692d 6d76 632d  all fastapi-mvc-
+000004f0: 6672 616d 6577 6f72 6b0d 0a60 6060 0d0a  framework..```..
+00000500: 0d0a 636f 6e74 726f 6c6c 6572 3a0d 0a60  ..controller:..`
+00000510: 6060 7079 7468 6f6e 0d0a 0d0a 6672 6f6d  ``python....from
+00000520: 2066 6173 7461 7069 5f6d 7663 5f66 7261   fastapi_mvc_fra
+00000530: 6d65 776f 726b 2069 6d70 6f72 7420 6170  mework import ap
+00000540: 695f 726f 7574 6572 2c61 7069 2c52 6571  i_router,api,Req
+00000550: 7565 7374 2c52 6573 706f 6e73 652c 4261  uest,Response,Ba
+00000560: 7365 436f 6e74 726f 6c6c 6572 2c61 7070  seController,app
+00000570: 6c69 6361 7469 6f6e 2c57 6562 536f 636b  lication,WebSock
+00000580: 6574 2c57 6562 536f 636b 6574 4469 7363  et,WebSocketDisc
+00000590: 6f6e 6e65 6374 2c55 706c 6f61 6446 696c  onnect,UploadFil
+000005a0: 652c 4669 6c65 0d0a 6672 6f6d 2074 7970  e,File..from typ
+000005b0: 696e 6720 696d 706f 7274 2044 6963 7420  ing import Dict 
+000005c0: 2c4c 6973 740d 0a20 0d0a 0d0a 6170 706c  ,List.. ....appl
+000005d0: 6963 6174 696f 6e2e 5f70 7562 6c69 635f  ication._public_
+000005e0: 6175 7468 5f75 726c 203d 2027 2f75 7365  auth_url = '/use
+000005f0: 722f 6c6f 6769 6e27 0d0a 6170 706c 6963  r/login'..applic
+00000600: 6174 696f 6e2e 5f75 7365 725f 6175 7468  ation._user_auth
+00000610: 5f75 726c 203d 2027 2f75 7365 722f 6c6f  _url = '/user/lo
+00000620: 6769 6e27 0d0a 0d0a 4061 7069 5f72 6f75  gin'....@api_rou
+00000630: 7465 7228 6175 7468 3d27 7075 626c 6963  ter(auth='public
+00000640: 2729 0d0a 636c 6173 7320 5465 7374 436f  ')..class TestCo
+00000650: 6e74 726f 6c6c 6572 2842 6173 6543 6f6e  ntroller(BaseCon
+00000660: 7472 6f6c 6c65 7229 3a20 0d0a 2020 2020  troller): ..    
+00000670: 4061 7069 2e67 6574 2822 2f75 7365 722f  @api.get("/user/
+00000680: 6c6f 6769 6e22 2029 0d0a 2020 2020 6465  login" )..    de
+00000690: 6620 6c6f 6769 6e28 7365 6c66 293a 0d0a  f login(self):..
+000006a0: 2020 2020 2020 2020 2222 223a 7469 746c          """:titl
+000006b0: 6520 4c6f 6769 6e22 2222 2020 0d0a 2020  e Login"""  ..  
+000006c0: 2020 2020 2020 7265 6469 7265 6374 203d        redirect =
+000006d0: 2073 656c 662e 6765 745f 7061 7261 6d28   self.get_param(
+000006e0: 2772 6564 6972 6563 7427 2920 6966 2073  'redirect') if s
+000006f0: 656c 662e 6765 745f 7061 7261 6d28 2772  elf.get_param('r
+00000700: 6564 6972 6563 7427 2920 656c 7365 2027  edirect') else '
+00000710: 2f27 200d 0a20 2020 2020 2020 2072 6574  /' ..        ret
+00000720: 7572 6e20 7365 6c66 2e76 6965 7728 2920  urn self.view() 
+00000730: 0d0a 2020 2020 4061 7069 2e70 6f73 7428  ..    @api.post(
+00000740: 222f 7465 7374 2f76 6572 6974 795f 7573  "/test/verity_us
+00000750: 6572 222c 6175 7468 3d22 6e6f 6e65 2229  er",auth="none")
+00000760: 0d0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+00000770: 7665 7269 7479 5f75 7365 7228 7365 6c66  verity_user(self
+00000780: 293a 2020 0d0a 2020 2020 2020 2020 7573  ):  ..        us
+00000790: 6572 6e61 6d65 203d 2073 656c 665b 2775  ername = self['u
+000007a0: 7365 726e 616d 6527 5d0d 0a20 2020 2020  sername']..     
+000007b0: 2020 2070 6173 7377 6f72 6420 3d20 7365     password = se
+000007c0: 6c66 5b27 7061 7373 776f 7264 275d 0d0a  lf['password']..
+000007d0: 2020 2020 2020 2020 7265 6469 7265 6374          redirect
+000007e0: 203d 2073 656c 665b 2772 6564 6972 6563   = self['redirec
+000007f0: 7427 5d0d 0a20 2020 2020 2020 2069 6620  t']..        if 
+00000800: 7573 6572 6e61 6d65 2061 6e64 2070 6173  username and pas
+00000810: 7377 6f72 643a 0d0a 2020 2020 2020 2020  sword:..        
+00000820: 2020 2020 2364 6f20 7665 7269 7469 6564      #do veritied
+00000830: 0d0a 2020 2020 2020 2020 2020 2020 6966  ..            if
+00000840: 2075 7365 726e 616d 6520 696e 205b 2762   username in ['b
+00000850: 7275 6365 272c 2761 6c69 6365 275d 2061  ruce','alice'] a
+00000860: 6e64 2070 6173 7377 6f72 643a 0d0a 2020  nd password:..  
+00000870: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00000880: 7475 726e 2073 656c 662e 5f76 6572 6974  turn self._verit
+00000890: 795f 7375 6363 6573 7365 6428 7573 6572  y_successed(user
+000008a0: 6e61 6d65 2c72 6564 6972 6563 7429 0d0a  name,redirect)..
+000008b0: 2020 2020 2020 2020 2020 2020 656c 7365              else
+000008c0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+000008d0: 2020 2072 6574 7572 6e20 7365 6c66 2e5f     return self._
+000008e0: 7665 7269 7479 5f65 7272 6f72 2829 200d  verity_error() .
+000008f0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00000900: 7365 6c66 2e5f 7665 7269 7479 5f65 7272  self._verity_err
+00000910: 6f72 2829 0d0a 2020 2020 0d0a 2020 2020  or()..    ..    
+00000920: 4061 7069 2e67 6574 2822 2f75 7365 722f  @api.get("/user/
+00000930: 6c6f 676f 7574 2229 0d0a 2020 2020 6465  logout")..    de
+00000940: 6620 6c6f 676f 7574 2873 656c 6629 3a0d  f logout(self):.
+00000950: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00000960: 7365 6c66 2e5f 7573 6572 5f6c 6f67 6f75  self._user_logou
+00000970: 7428 290d 0a20 2020 200d 0a20 2020 2040  t()..    ..    @
+00000980: 6170 692e 706f 7374 2822 2f74 6573 742f  api.post("/test/
+00000990: 7570 6c6f 6164 2229 0d0a 2020 2020 6173  upload")..    as
+000009a0: 796e 6320 6465 6620 7570 6c6f 6164 5f74  ync def upload_t
+000009b0: 6573 7428 7365 6c66 2c66 696c 6573 3a4c  est(self,files:L
+000009c0: 6973 745b 5570 6c6f 6164 4669 6c65 5d3d  ist[UploadFile]=
+000009d0: 4669 6c65 282e 2e2e 2929 3a0d 0a20 2020  File(...)):..   
+000009e0: 2020 2020 2070 203d 207b 7d0d 0a20 2020       p = {}..   
+000009f0: 2020 2020 2066 6f72 2066 696c 6520 696e       for file in
+00000a00: 2066 696c 6573 3a0d 0a20 2020 2020 2020   files:..       
+00000a10: 2020 2020 2070 6174 682c 7572 6c20 3d20       path,url = 
+00000a20: 6177 6169 7420 7365 6c66 2e67 6574 5570  await self.getUp
+00000a30: 6c6f 6164 4669 6c65 2866 696c 6529 0d0a  loadFile(file)..
+00000a40: 2020 2020 2020 2020 2020 2020 705b 6669              p[fi
+00000a50: 6c65 2e66 696c 656e 616d 655d 203d 205b  le.filename] = [
+00000a60: 7061 7468 2c75 726c 5d0d 0a20 2020 2020  path,url]..     
+00000a70: 2020 2072 6574 7572 6e20 7b22 6669 6c65     return {"file
+00000a80: 7322 3a70 7d20 0d0a 2020 2020 0d0a 2020  s":p} ..    ..  
+00000a90: 2020 0d0a 2020 2020 4061 7069 2e67 6574    ..    @api.get
+00000aa0: 2822 2f22 2c61 7574 683d 276e 6f6e 6527  ("/",auth='none'
+00000ab0: 2029 0d0a 2020 2020 6465 6620 686f 6d65   )..    def home
+00000ac0: 2873 656c 662c 7265 7175 6573 743a 5265  (self,request:Re
+00000ad0: 7175 6573 7429 3a20 0d0a 2020 2020 2020  quest): ..      
+00000ae0: 2020 2727 270d 0a20 2020 2020 2020 203a    '''..        :
+00000af0: 7469 746c 6520 486f 6d65 0d0a 2020 2020  title Home..    
+00000b00: 2020 2020 2727 270d 0a20 2020 2020 2020      '''..       
+00000b10: 2063 203d 2073 656c 662e 7365 7373 696f   c = self.sessio
+00000b20: 6e2e 6765 7428 2768 6f6d 6527 2c31 290d  n.get('home',1).
+00000b30: 0a20 2020 2020 2020 2063 203d 2063 2b31  .        c = c+1
+00000b40: 2020 0d0a 2020 2020 2020 2020 7365 6c66    ..        self
+00000b50: 2e63 6f6f 6b69 6573 5b22 6122 5d20 3d20  .cookies["a"] = 
+00000b60: 630d 0a20 2020 2020 2020 2069 6620 633e  c..        if c>
+00000b70: 3130 3a0d 0a20 2020 2020 2020 2020 2020  10:..           
+00000b80: 2064 656c 2073 656c 662e 636f 6f6b 6965   del self.cookie
+00000b90: 735b 2261 225d 0d0a 2020 2020 2020 2020  s["a"]..        
+00000ba0: 2020 2020 6320 3d20 300d 0a20 2020 2020      c = 0..     
+00000bb0: 2020 2073 656c 662e 7365 7373 696f 6e5b     self.session[
+00000bc0: 2768 6f6d 6527 5d20 3d20 630d 0a20 2020  'home'] = c..   
+00000bd0: 2020 2020 2074 6578 7420 3d20 2248 656c       text = "Hel
+00000be0: 6c6f 2057 6f72 6c64 2120 4927 6d20 696e  lo World! I'm in
+00000bf0: 2046 6173 7461 7069 4d76 6346 7261 6d65   FastapiMvcFrame
+00000c00: 776f 726b 220d 0a20 2020 2020 2020 2072  work"..        r
+00000c10: 6f75 7465 7273 5f6d 6170 203d 2061 7070  outers_map = app
+00000c20: 6c69 6361 7469 6f6e 2e72 6f75 7465 7273  lication.routers
+00000c30: 5f6d 6170 0d0a 2020 2020 2020 2020 726f  _map..        ro
+00000c40: 7574 6572 7320 3d20 6170 706c 6963 6174  uters = applicat
+00000c50: 696f 6e2e 726f 7574 6573 200d 0a20 2020  ion.routes ..   
+00000c60: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00000c70: 2e76 6965 7728 290d 0a20 2020 200d 0a20  .view()..    .. 
+00000c80: 2020 2040 6170 692e 6765 7428 222f 786d     @api.get("/xm
+00000c90: 6c22 2c61 7574 683d 2775 7365 7227 290d  l",auth='user').
+00000ca0: 0a20 2020 2064 6566 2067 6574 5f6c 6567  .    def get_leg
+00000cb0: 6163 795f 6461 7461 2873 656c 6629 3a0d  acy_data(self):.
+00000cc0: 0a20 2020 2020 2020 2022 2222 3a74 6974  .        """:tit
+00000cd0: 6c65 2058 4d4c 2850 726f 7465 6374 6564  le XML(Protected
+00000ce0: 2922 2222 0d0a 0d0a 2020 2020 2020 2020  )"""....        
+00000cf0: 6461 7461 203d 2022 2222 3c3f 786d 6c20  data = """<?xml 
+00000d00: 7665 7273 696f 6e3d 2231 2e30 223f 3e0d  version="1.0"?>.
+00000d10: 0a20 2020 2020 2020 203c 7368 616d 706f  .        <shampo
+00000d20: 6f3e 0d0a 2020 2020 2020 2020 3c48 6561  o>..        <Hea
+00000d30: 6465 723e 0d0a 2020 2020 2020 2020 2020  der>..          
+00000d40: 2020 4170 706c 7920 7368 616d 706f 6f20    Apply shampoo 
+00000d50: 6865 7265 2e0d 0a20 2020 2020 2020 203c  here...        <
+00000d60: 2f48 6561 6465 723e 0d0a 2020 2020 2020  /Header>..      
+00000d70: 2020 3c42 6f64 793e 0d0a 2020 2020 2020    <Body>..      
+00000d80: 2020 2020 2020 596f 7527 6c6c 2068 6176        You'll hav
+00000d90: 6520 746f 2075 7365 2073 6f61 7020 6865  e to use soap he
+00000da0: 7265 2e0d 0a20 2020 2020 2020 203c 2f42  re...        </B
+00000db0: 6f64 793e 0d0a 2020 2020 2020 2020 3c2f  ody>..        </
+00000dc0: 7368 616d 706f 6f3e 0d0a 2020 2020 2020  shampoo>..      
+00000dd0: 2020 2222 220d 0a20 2020 2020 2020 2072    """..        r
+00000de0: 6574 7572 6e20 7365 6c66 2e76 6965 7728  eturn self.view(
+00000df0: 636f 6e74 656e 743d 6461 7461 2c6d 6564  content=data,med
+00000e00: 6961 5f74 7970 653d 2261 7070 6c69 6361  ia_type="applica
+00000e10: 7469 6f6e 2f78 6d6c 2229 0d0a 2020 2020  tion/xml")..    
+00000e20: 2020 2020 2020 0d0a 2020 2020 4061 7069        ..    @api
+00000e30: 2e67 6574 2822 2f63 6861 7467 7074 2229  .get("/chatgpt")
+00000e40: 0d0a 2020 2020 6465 6620 6368 6174 6770  ..    def chatgp
+00000e50: 7428 7365 6c66 293a 0d0a 2020 2020 2020  t(self):..      
+00000e60: 2020 2222 220d 0a20 2020 2020 2020 203a    """..        :
+00000e70: 7469 746c 6520 4368 6174 0d0a 2020 2020  title Chat..    
+00000e80: 2020 2020 2222 220d 0a20 2020 2020 2020      """..       
+00000e90: 2072 6574 7572 6e20 7365 6c66 2e76 6965   return self.vie
+00000ea0: 7728 290d 0a0d 0a0d 0a20 0d0a 200d 0a77  w()...... .. ..w
+00000eb0: 6562 736f 636b 6574 733a 4469 6374 5b73  ebsockets:Dict[s
+00000ec0: 7472 2c57 6562 536f 636b 6574 5d20 3d20  tr,WebSocket] = 
+00000ed0: 7b7d 0d0a 0d0a 4061 7069 5f72 6f75 7465  {}....@api_route
+00000ee0: 7228 7061 7468 3d22 2f7b 636f 6e74 726f  r(path="/{contro
+00000ef0: 6c6c 6572 7d22 290d 0a63 6c61 7373 2057  ller}")..class W
+00000f00: 5343 6f6e 7472 6f6c 6c65 7228 4261 7365  SController(Base
+00000f10: 436f 6e74 726f 6c6c 6572 293a 2020 0d0a  Controller):  ..
+00000f20: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
+00000f30: 2873 656c 6629 202d 3e20 4e6f 6e65 3a0d  (self) -> None:.
+00000f40: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
+00000f50: 2e5f 5f69 6e69 745f 5f28 290d 0a20 2020  .__init__()..   
+00000f60: 2020 2020 200d 0a20 2020 2040 6170 692e       ..    @api.
+00000f70: 6765 7428 222f 2220 290d 0a20 2020 2064  get("/" )..    d
+00000f80: 6566 2077 735f 686f 6d65 2873 656c 6629  ef ws_home(self)
+00000f90: 3a0d 0a20 2020 2020 2020 2022 2222 3a74  :..        """:t
+00000fa0: 6974 6c65 2057 6562 536f 636b 6574 4465  itle WebSocketDe
+00000fb0: 6d6f 2222 220d 0a20 2020 2020 2020 2072  mo"""..        r
+00000fc0: 6574 7572 6e20 7365 6c66 2e76 6965 7728  eturn self.view(
+00000fd0: 290d 0a0d 0a20 2020 2040 6170 692e 7765  )....    @api.we
+00000fe0: 6273 6f63 6b65 7428 222f 6368 6174 2f7b  bsocket("/chat/{
+00000ff0: 636c 6965 6e74 5f69 647d 2229 0d0a 2020  client_id}")..  
+00001000: 2020 6173 796e 6320 6465 6620 7765 6273    async def webs
+00001010: 6f63 6b65 745f 656e 6470 6f69 6e74 2873  ocket_endpoint(s
+00001020: 656c 662c 2077 6562 736f 636b 6574 3a20  elf, websocket: 
+00001030: 5765 6253 6f63 6b65 742c 636c 6965 6e74  WebSocket,client
+00001040: 5f69 643a 2069 6e74 293a 0d0a 2020 2020  _id: int):..    
+00001050: 2020 2020 6177 6169 7420 7765 6273 6f63      await websoc
+00001060: 6b65 742e 6163 6365 7074 2829 0d0a 2020  ket.accept()..  
+00001070: 2020 2020 2020 7765 6273 6f63 6b65 7473        websockets
+00001080: 5b63 6c69 656e 745f 6964 5d3d 2877 6562  [client_id]=(web
+00001090: 736f 636b 6574 290d 0a20 2020 2020 2020  socket)..       
+000010a0: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
+000010b0: 2020 2077 6869 6c65 2054 7275 653a 0d0a     while True:..
+000010c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000010d0: 6461 7461 203d 2061 7761 6974 2077 6562  data = await web
+000010e0: 736f 636b 6574 2e72 6563 6569 7665 5f74  socket.receive_t
+000010f0: 6578 7428 290d 0a20 2020 2020 2020 2020  ext()..         
+00001100: 2020 2020 2020 2061 7761 6974 2077 6562         await web
+00001110: 736f 636b 6574 2e73 656e 645f 7465 7874  socket.send_text
+00001120: 2866 2259 6f75 2077 726f 7465 3a20 7b64  (f"You wrote: {d
+00001130: 6174 617d 2220 290d 0a20 2020 2020 2020  ata}" )..       
+00001140: 2020 2020 2020 2020 2066 6f72 2063 6c69           for cli
+00001150: 656e 7469 6420 696e 2077 6562 736f 636b  entid in websock
+00001160: 6574 733a 0d0a 2020 2020 2020 2020 2020  ets:..          
+00001170: 2020 2020 2020 2020 2020 6966 2063 6c69            if cli
+00001180: 656e 745f 6964 213d 636c 6965 6e74 6964  ent_id!=clientid
+00001190: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+000011a0: 2020 2020 2020 2020 2020 2061 7761 6974             await
+000011b0: 2077 6562 736f 636b 6574 735b 636c 6965   websockets[clie
+000011c0: 6e74 6964 5d2e 7365 6e64 5f74 6578 7428  ntid].send_text(
+000011d0: 6622 436c 6965 6e74 2023 7b63 6c69 656e  f"Client #{clien
+000011e0: 745f 6964 7d20 7361 7973 3a20 7b64 6174  t_id} says: {dat
+000011f0: 617d 2229 0d0a 2020 2020 2020 2020 2020  a}")..          
+00001200: 2020 2020 2020 200d 0a20 2020 2020 2020         ..       
+00001210: 2065 7863 6570 7420 5765 6253 6f63 6b65   except WebSocke
+00001220: 7444 6973 636f 6e6e 6563 743a 0d0a 2020  tDisconnect:..  
+00001230: 2020 2020 2020 2020 2020 7765 6273 6f63            websoc
+00001240: 6b65 7473 2e72 656d 6f76 6528 7765 6273  kets.remove(webs
+00001250: 6f63 6b65 7429 0d0a 2020 2020 2020 2020  ocket)..        
+00001260: 2020 2020 666f 7220 636f 6e6e 6563 7469      for connecti
+00001270: 6f6e 2069 6e20 7765 6273 6f63 6b65 7473  on in websockets
+00001280: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00001290: 2020 2061 7761 6974 2063 6f6e 6e65 6374     await connect
+000012a0: 696f 6e2e 7365 6e64 5f74 6578 7428 6622  ion.send_text(f"
+000012b0: 436c 6965 6e74 2023 7b63 6c69 656e 745f  Client #{client_
+000012c0: 6964 7d20 6c65 6674 2074 6865 2063 6861  id} left the cha
+000012d0: 7422 290d 0a20 2020 2020 2020 2020 2020  t")..           
+000012e0: 2020 0d0a 6060 600d 0a0d 0a68 6f6d 652e    ..```....home.
+000012f0: 6874 6d6c 3a0d 0a0d 0a60 6060 6874 6d6c  html:....```html
+00001300: 0d0a 3c21 444f 4354 5950 4520 6874 6d6c  ..<!DOCTYPE html
+00001310: 3e0d 0a3c 6874 6d6c 3e0d 0a0d 0a3c 6865  >..<html>....<he
+00001320: 6164 3e0d 0a20 2020 203c 6d65 7461 2063  ad>..    <meta c
+00001330: 6861 7273 6574 3d22 7574 662d 3822 3e0d  harset="utf-8">.
+00001340: 0a20 2020 203c 7469 746c 653e 4661 7374  .    <title>Fast
+00001350: 4170 6920 4d56 4320 4672 616d 6577 6f72  Api MVC Framewor
+00001360: 6b3c 2f74 6974 6c65 3e0d 0a20 2020 203c  k</title>..    <
+00001370: 6c69 6e6b 2072 656c 3d22 7374 796c 6573  link rel="styles
+00001380: 6865 6574 2220 6872 6566 3d22 686f 6d65  heet" href="home
+00001390: 2e63 7373 2220 2f3e 0d0a 0d0a 3c2f 6865  .css" />....</he
+000013a0: 6164 3e0d 0a0d 0a3c 626f 6479 3e0d 0a20  ad>....<body>.. 
+000013b0: 2020 203c 6865 6164 6572 3e0d 0a20 2020     <header>..   
+000013c0: 2020 2020 203c 6831 3e48 656c 6c6f 2050       <h1>Hello P
+000013d0: 7974 686f 6e3c 2f68 313e 0d0a 2020 2020  ython</h1>..    
+000013e0: 3c2f 6865 6164 6572 3e0d 0a20 2020 203c  </header>..    <
+000013f0: 6e61 763e 0d0a 2020 2020 2020 2020 7b25  nav>..        {%
+00001400: 2066 6f72 2069 7465 6d20 696e 2072 6f75   for item in rou
+00001410: 7465 7273 5f6d 6170 2025 7d20 7b25 2069  ters_map %} {% i
+00001420: 6620 2747 4554 2720 696e 2072 6f75 7465  f 'GET' in route
+00001430: 7273 5f6d 6170 5b69 7465 6d5d 5b27 6d65  rs_map[item]['me
+00001440: 7468 6f64 7327 5d20 257d 0d0a 2020 2020  thods'] %}..    
+00001450: 2020 2020 3c61 2068 7265 663d 227b 7b72      <a href="{{r
+00001460: 6f75 7465 7273 5f6d 6170 5b69 7465 6d5d  outers_map[item]
+00001470: 5b27 7061 7468 275d 7d7d 223e 7b7b 726f  ['path']}}">{{ro
+00001480: 7574 6572 735f 6d61 705b 6974 656d 5d5b  uters_map[item][
+00001490: 2764 6f63 275d 2061 6e64 2072 6f75 7465  'doc'] and route
+000014a0: 7273 5f6d 6170 5b69 7465 6d5d 5b27 646f  rs_map[item]['do
+000014b0: 6327 5d5b 2774 6974 6c65 275d 206f 7220  c']['title'] or 
+000014c0: 6974 656d 7d7d 3c2f 613e 207b 2520 656e  item}}</a> {% en
+000014d0: 6469 6620 257d 207b 2520 656e 6466 6f72  dif %} {% endfor
+000014e0: 2025 7d0d 0a0d 0a20 2020 2020 2020 203c   %}....        <
+000014f0: 6120 6872 6566 3d22 2322 3e41 626f 7574  a href="#">About
+00001500: 3c2f 613e 0d0a 2020 2020 2020 2020 3c61  </a>..        <a
+00001510: 2068 7265 663d 2223 223e 436f 6e74 6163   href="#">Contac
+00001520: 743c 2f61 3e20 7b25 2069 6620 7265 7175  t</a> {% if requ
+00001530: 6573 742e 7365 7373 696f 6e5b 2775 7365  est.session['use
+00001540: 7227 5d20 257d 0d0a 2020 2020 2020 2020  r'] %}..        
+00001550: 3c61 2068 7265 663d 222f 7573 6572 2f6c  <a href="/user/l
+00001560: 6f67 6f75 7422 3e3c 623e 7b7b 7265 7175  ogout"><b>{{requ
+00001570: 6573 742e 7365 7373 696f 6e5b 2775 7365  est.session['use
+00001580: 7227 5d5b 2775 7365 726e 616d 6527 5d7d  r']['username']}
+00001590: 7d3c 2f62 3e20 4c6f 676f 7574 3c2f 613e  }</b> Logout</a>
+000015a0: 207b 2520 656e 6469 6620 257d 0d0a 2020   {% endif %}..  
+000015b0: 2020 3c2f 6e61 763e 0d0a 2020 2020 3c73    </nav>..    <s
+000015c0: 6563 7469 6f6e 3e0d 0a20 2020 2020 2020  ection>..       
+000015d0: 203c 6832 3e57 656c 636f 6d65 2074 6f20   <h2>Welcome to 
+000015e0: 6d79 2077 6562 7369 7465 3c2f 6832 3e0d  my website</h2>.
+000015f0: 0a20 2020 2020 2020 203c 703e 5468 6973  .        <p>This
+00001600: 2069 7320 616e 2065 7861 6d70 6c65 206f   is an example o
+00001610: 6620 6120 7265 7370 6f6e 7369 7665 2064  f a responsive d
+00001620: 6573 6967 6e20 7468 6174 2077 6f72 6b73  esign that works
+00001630: 2077 656c 6c20 6f6e 2062 6f74 6820 6465   well on both de
+00001640: 736b 746f 7020 616e 6420 6d6f 6269 6c65  sktop and mobile
+00001650: 2064 6576 6963 6573 2e3c 2f70 3e0d 0a20   devices.</p>.. 
+00001660: 2020 2020 2020 203c 703e 6865 7265 2069         <p>here i
+00001670: 7320 7468 6520 6074 6578 7460 2076 6172  s the `text` var
+00001680: 6961 626c 6520 696e 2063 6c61 7373 206d  iable in class m
+00001690: 6574 686f 643a 7b7b 7465 7874 7d7d 3c2f  ethod:{{text}}</
+000016a0: 703e 0d0a 2020 2020 2020 2020 3c70 2073  p>..        <p s
+000016b0: 7479 6c65 3d22 636f 6c6f 723a 7265 6422  tyle="color:red"
+000016c0: 3e3c 623e 7b7b 666c 6173 687d 7d3c 2f62  ><b>{{flash}}</b
+000016d0: 3e3c 2f70 3e0d 0a20 2020 203c 2f73 6563  ></p>..    </sec
+000016e0: 7469 6f6e 3e0d 0a20 2020 203c 666f 6f74  tion>..    <foot
+000016f0: 6572 3e0d 0a20 2020 2020 2020 203c 703e  er>..        <p>
+00001700: 2663 6f70 793b 2032 3032 3320 4d79 2057  &copy; 2023 My W
+00001710: 6562 7369 7465 3c2f 703e 0d0a 2020 2020  ebsite</p>..    
+00001720: 3c2f 666f 6f74 6572 3e0d 0a3c 2f62 6f64  </footer>..</bod
+00001730: 793e 0d0a 0d0a 3c2f 6874 6d6c 3e0d 0a60  y>....</html>..`
+00001740: 6060 0d0a 0d0a 796f 7572 2070 726f 6a65  ``....your proje
+00001750: 6374 2064 6972 6563 746f 7279 2073 7472  ct directory str
+00001760: 7563 7472 7565 206c 696b 6520 7468 6973  uctrue like this
+00001770: 3a0d 0a60 6060 6469 720d 0a0d 0a5c 4150  :..```dir....\AP
+00001780: 500d 0a7c 2020 205f 5f69 6e69 745f 5f2e  P..|   __init__.
+00001790: 7079 0d0a 7c0d 0a2b 2d2d 2d63 6f6e 7472  py..|..+---contr
+000017a0: 6f6c 6c65 7273 0d0a 7c20 2020 7c20 2020  ollers..|   |   
+000017b0: 7465 7374 5f63 6f6e 7472 6f6c 6c65 722e  test_controller.
+000017c0: 7079 0d0a 7c20 2020 7c20 2020 5f5f 696e  py..|   |   __in
+000017d0: 6974 5f5f 2e70 790d 0a7c 2020 207c 0d0a  it__.py..|   |..
+000017e0: 2b2d 2d2d 6d6f 6465 6c73 0d0a 7c20 2020  +---models..|   
+000017f0: 7c20 2020 6d6f 6465 6c73 2e70 790d 0a7c  |   models.py..|
+00001800: 2020 207c 2020 205f 5f69 6e69 745f 5f2e     |   __init__.
+00001810: 7079 0d0a 7c20 2020 7c0d 0a2b 2d2d 2d73  py..|   |..+---s
+00001820: 6572 7669 6365 730d 0a7c 2020 207c 2020  ervices..|   |  
+00001830: 2075 7365 725f 7365 7276 6963 652e 7079   user_service.py
+00001840: 0d0a 7c20 2020 7c20 2020 5f5f 696e 6974  ..|   |   __init
+00001850: 5f5f 2e70 790d 0a7c 2020 207c 0d0a 2b2d  __.py..|   |..+-
+00001860: 2d2d 7465 7374 730d 0a7c 2020 207c 2020  --tests..|   |  
+00001870: 2074 6573 745f 7465 7374 2e70 790d 0a7c   test_test.py..|
+00001880: 2020 207c 0d0a 2b2d 2d2d 7669 6577 730d     |..+---views.
+00001890: 0a7c 2020 202b 2d2d 2d61 6263 0d0a 7c20  .|   +---abc..| 
+000018a0: 2020 7c20 2020 5c2d 2d2d 322e 300d 0a7c    |   \---2.0..|
+000018b0: 2020 207c 2020 2020 2020 2020 2020 2063     |           c
+000018c0: 7373 2e63 7373 0d0a 7c20 2020 7c20 2020  ss.css..|   |   
+000018d0: 2020 2020 2020 2020 686f 6d65 2e68 746d          home.htm
+000018e0: 6c0d 0a7c 2020 207c 0d0a 7c20 2020 2b2d  l..|   |..|   +-
+000018f0: 2d2d 7465 7374 0d0a 7c20 2020 7c20 2020  --test..|   |   
+00001900: 2020 2020 6368 6174 6770 742e 6373 730d      chatgpt.css.
+00001910: 0a7c 2020 207c 2020 2020 2020 2063 6861  .|   |       cha
+00001920: 7467 7074 2e68 746d 6c0d 0a7c 2020 207c  tgpt.html..|   |
+00001930: 2020 2020 2020 2063 6861 7467 7074 2e6a         chatgpt.j
+00001940: 730d 0a7c 2020 207c 2020 2020 2020 2068  s..|   |       h
+00001950: 6f6d 652e 6874 6d6c 0d0a 7c20 2020 7c20  ome.html..|   | 
+00001960: 2020 2020 2020 686f 6d65 2e6a 730d 0a7c        home.js..|
+00001970: 2020 207c 2020 2020 2020 206c 6f67 696e     |       login
+00001980: 2e68 746d 6c0d 0a7c 2020 207c 0d0a 7c20  .html..|   |..| 
+00001990: 2020 5c2d 2d2d 7773 0d0a 7c20 2020 2020    \---ws..|     
+000019a0: 2020 2020 2020 7773 5f68 6f6d 652e 6874        ws_home.ht
+000019b0: 6d6c 0d0a 7c0d 0a0d 0a0d 0a60 6060 0d0a  ml..|......```..
```

### Comparing `fastapi_mvc_framework-1.2.0/fastapi_mvc_framework.egg-info/SOURCES.txt` & `fastapi_mvc_framework-1.2.3/fastapi_mvc_framework.egg-info/SOURCES.txt`

 * *Files identical despite different names*

